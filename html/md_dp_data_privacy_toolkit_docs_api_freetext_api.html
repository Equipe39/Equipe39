<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PolyBM: Prerequisites</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="LGS.jpg"/></td>
  <td id="projectalign">
   <div id="projectname">PolyBM<span id="projectnumber">&#160;0.1</span>
   </div>
   <div id="projectbrief">The PolyBM Data Analysis Tool is an AI tool that helps users profile, format, and anonymize data from CSV, JSON, and XML files. The tool offers various functionalities such as creating charts, generating data quality reports, and anonymizing sensitive data.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Prerequisites </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Project was developed and tested using Java 11</p>
<h1><a class="anchor" id="autotoc_md48"></a>
Free-text de-identification pipeline</h1>
<p>The class <code><a class="el" href="classcom_1_1ibm_1_1research_1_1drl_1_1dpt_1_1nlp_1_1_complex_free_text_annotator.html">com.ibm.research.drl.dpt.nlp.ComplexFreeTextAnnotator</a></code> contains the implementation of the annotation pipeline. It does the pre-processing, invokes the individual annotators and performs the post-processing phase.</p>
<p>In order to initialize the ComplexFreeTextAnnotator one of the following constructors needs to be invoked:</p>
<div class="fragment"><div class="line">public ComplexFreeTextAnnotator()</div>
</div><!-- fragment --><p>This constructor will initialize the pipeline with the system defaults (see default configuration section below)</p>
<div class="fragment"><div class="line">public ComplexFreeTextAnnotator(InputStream configuration)</div>
</div><!-- fragment --><p>This constructor will initialize based on the configuration contents of the input stream. The configuration is a JSON object.</p>
<p>Once the identifier is initialized, then we can get the list of identified tokens from the following function:</p>
<div class="fragment"><div class="line">List&lt;IdentifiedEntity&gt; identify(String text, Language language) throws IOException;</div>
</div><!-- fragment --><p>The <code>text</code> parameter contains the input text. The <code>language</code> parameter declares the input language. If the value is <code>Language.UNKNOWN</code>, the identifier will use the default language based on the value of <code>defaultLanguage</code> in the configuration if the <code>performLanguageDetection</code> is set to <code>false</code> or will detect the language when <code>performLanguageDetection</code> is set to <code>true</code>.</p>
<h1><a class="anchor" id="autotoc_md49"></a>
Free-text de-identification pipeline configuration</h1>
<h2><a class="anchor" id="autotoc_md50"></a>
Structure of the configuration</h2>
<p>The configuration is a JSON object that contains the following objects:</p>
<p>1) <b>identifiers</b>: it is a JSON object that contains the full class names of the annotators to load as the keys. The value to each key is the annotator-specific configuration. For example, the following configuration will load the PRIMA annotator with its configuration:</p>
<div class="fragment"><div class="line">&quot;identifiers&quot;: {</div>
<div class="line">    &quot;com.ibm.research.drl.dpt.nlp.PRIMAAnnotator&quot;: {</div>
<div class="line">      &quot;sentenceDetectorModel&quot;: &quot;/nlp/en/en-sent.bin&quot;,</div>
<div class="line">      &quot;mapping&quot;: {</div>
<div class="line">        &quot;ADDRESS&quot;: &quot;LOCATION&quot;,</div>
<div class="line">        &quot;STATES_US&quot;: &quot;LOCATION&quot;,</div>
<div class="line">        &quot;CITY&quot;: &quot;LOCATION&quot;,</div>
<div class="line">        &quot;DAY&quot;: &quot;DATETIME&quot;,</div>
<div class="line">        &quot;MONTH&quot;: &quot;DATETIME&quot;,</div>
<div class="line">        &quot;SSN_US&quot;: &quot;NATIONAL_ID&quot;,</div>
<div class="line">        &quot;SSN_UK&quot;: &quot;NATIONAL_ID&quot;</div>
<div class="line">      },</div>
<div class="line">      &quot;MIN_SHINGLE_SIZE&quot;: 2,</div>
<div class="line">      &quot;MAX_SHINGLE_SIZE&quot;: 10</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>See the next section for the available annotators and their respective configuration</p>
<p>2) <b>blacklist</b>: a JSON object that includes the values we want to blacklist from the annotator results. The keys are the entity types and the value of each key is a JSON array that contains the values to blacklist for that entity type. For example, the following configuration:</p>
<div class="fragment"><div class="line">&quot;blacklist&quot;: {</div>
<div class="line">    &quot;ORGANIZATION&quot;: [</div>
<div class="line">      &quot;INP&quot;,</div>
<div class="line">      &quot;LTC&quot;</div>
<div class="line">    ]</div>
<div class="line">}</div>
</div><!-- fragment --><p>denotes that the values <code>INP</code> and <code>LTC</code> will be ignored for the <code>ORGANIZATION</code> entity type</p>
<p>3) <b>unreliable</b>: this part of the configuration controls which entities types are considered unreliable, per annotator, and thus need to be excluded from the results. It is a JSON object where each key is the annotator name and the value for each key is a JSON array that contains the unreliable entities for that annotator. For example, the following configuration:</p>
<div class="fragment"><div class="line">&quot;unreliable&quot;: {</div>
<div class="line">    &quot;ACI&quot;: [</div>
<div class="line">      &quot;NUMBER&quot;</div>
<div class="line">   ]</div>
<div class="line">}</div>
</div><!-- fragment --><p>denotes that if we see a <code>NUMBER</code> entity from the <code>ACI</code> annotator we need to ignore it.</p>
<p>4) <b>connected</b>: There are cases where an entity is split into separate results by an annotators. For example, let us consider that the input is "Health Center of Washington". An annotator can detect two entities: "Health Center" as an organisation and "Washington" as a location. However, we want to detect only one entity and that is the entire token as an organization. The pipeline enables the merging of two results into a single entity. Users can specify through the configuration the left and right-hand side of the connected entities along with the connecting particles.</p>
<p>For example, the following configuration:</p>
<div class="fragment"><div class="line">&quot;connected&quot;: [</div>
<div class="line">    {</div>
<div class="line">      &quot;first&quot;: &quot;ORGANIZATION&quot;,</div>
<div class="line">      &quot;second&quot;: &quot;LOCATION&quot;,</div>
<div class="line">      &quot;endType&quot;: &quot;ORGANIZATION&quot;,</div>
<div class="line">      &quot;endSubtype&quot;: &quot;ORGANIZATION&quot;,</div>
<div class="line">      &quot;particles&quot;: [&quot;in&quot;, &quot;on&quot;, &quot;of&quot;, &quot;the&quot;, &quot;to&quot;]</div>
<div class="line">    }</div>
<div class="line">  ]</div>
</div><!-- fragment --><p>declares that if the first term is an ORGANIZATION and the second term is LOCATION and in-between one of the <code>["in", "on", "of", "the", "to"]</code> is found, then these entities will be merged to one with the primary and secondary type being ORGANIZATION.</p>
<p>5) <b>weights</b>:</p>
<p>Since we invoke multiple annotators, we might end up with conflicting results. In order to handle the potential conflicts, we introduced a priority system per annotator per entity type. For each annotator, we assign a weight to each of the entity types it supports. The weight is a value from 0 to 100 and practically reflects the accuracy of the annotator for the specific type. The initial weight assignment was performed based on the evaluation results of each individual annotator. If no weight is assigned for an entity, then the default value of 1 is assumed. A weight value of 0 for an entity will force the pipeline to ignore the results for that entity for that annotator.</p>
<p>The following configuration:</p>
<div class="fragment"><div class="line">...</div>
<div class="line">&quot;weights&quot;: {</div>
<div class="line">    &quot;Stanford&quot;: {</div>
<div class="line">      &quot;DATETIME&quot;: 50,</div>
<div class="line">      &quot;NAME&quot;: 95,</div>
<div class="line">      &quot;LOCATION&quot;: 90</div>
<div class="line">    },</div>
<div class="line">    &quot;PRIMA&quot;: {</div>
<div class="line">      &quot;DATETIME&quot;: 50,</div>
<div class="line">      &quot;EMAIL&quot;: 90,</div>
<div class="line">      &quot;NAME&quot;: 50</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line">...</div>
</div><!-- fragment --><p>includes the weights for two annotators. If a term is recognized as <code>NAME</code> from the PRIMA annotator and as a <code>LOCATION</code> from the Stanford one, then the Stanford result wins since it has a higher weight value for that entity (90 over 50).</p>
<p>6) <b>not_POS</b>: contains the entity types that are POS independent. It is a JSON array. Its values can either be a string or an object. The string represents the entity type name. The object has the entity types as keys and arrays as values. The values in the arrays contain the exceptions for that POS independent type. For example, consider the following configuration:</p>
<div class="fragment"><div class="line">&quot;not_POS&quot;: [</div>
<div class="line">    &quot;DATETIME&quot;,</div>
<div class="line">    {&quot;MONTH&quot;: [&quot;may&quot;]},</div>
<div class="line">    &quot;DAY&quot;,</div>
<div class="line">    &quot;PHONE&quot;,</div>
<div class="line">    &quot;NUMERIC&quot;,</div>
<div class="line">    &quot;NATIONAL_ID&quot;,</div>
<div class="line">    &quot;EMAIL&quot;</div>
<div class="line">]</div>
</div><!-- fragment --><p>instructs that the entity types <code>DATETIME</code>, <code>DAY</code>, <code>PHONE</code>, <code>NUMERIC</code>, <code>NATIONAL_ID</code>, <code>EMAIL</code> are POS-independent but also <code>MONTH</code> is POS-independent except the case that its value is <code>may</code>.</p>
<h4><a class="anchor" id="autotoc_md51"></a>
Default configuration</h4>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;defaultLanguage&quot;: &quot;ENGLISH&quot;,</div>
<div class="line">  &quot;performLanguageDetection&quot;: false,</div>
<div class="line">  &quot;identifiers&quot;: {</div>
<div class="line">    &quot;com.ibm.research.drl.dpt.nlp.PRIMAAnnotator&quot;: {</div>
<div class="line">      &quot;sentenceDetectorModel&quot;: &quot;/nlp/en/en-sent.bin&quot;,</div>
<div class="line">      &quot;mapping&quot;: {</div>
<div class="line">        &quot;ADDRESS&quot;: &quot;LOCATION&quot;,</div>
<div class="line">        &quot;STATES_US&quot;: &quot;LOCATION&quot;,</div>
<div class="line">        &quot;CITY&quot;: &quot;LOCATION&quot;,</div>
<div class="line">        &quot;DAY&quot;: &quot;DATETIME&quot;,</div>
<div class="line">        &quot;MONTH&quot;: &quot;DATETIME&quot;,</div>
<div class="line">        &quot;SSN_US&quot;: &quot;NATIONAL_ID&quot;,</div>
<div class="line">        &quot;SSN_UK&quot;: &quot;NATIONAL_ID&quot;</div>
<div class="line">      },</div>
<div class="line">      &quot;MIN_SHINGLE_SIZE&quot;: 2,</div>
<div class="line">      &quot;MAX_SHINGLE_SIZE&quot;: 10</div>
<div class="line">    },</div>
<div class="line">    &quot;com.ibm.research.drl.dpt.nlp.stanford.StanfordNLPAnnotator&quot;: {</div>
<div class="line">      &quot;defaultLanguage&quot; : &quot;ENGLISH&quot;,</div>
<div class="line">      &quot;configuration&quot;: {</div>
<div class="line">        &quot;ENGLISH&quot; :  [</div>
<div class="line">          &quot;annotators&quot;, &quot;tokenize,ssplit,pos,lemma,ner&quot;,</div>
<div class="line">          &quot;tokenize.language&quot;, &quot;en&quot;</div>
<div class="line">        ]</div>
<div class="line">      },</div>
<div class="line">      &quot;mapping&quot;: {</div>
<div class="line">        &quot;PERSON&quot; : &quot;NAME&quot;,</div>
<div class="line">        &quot;DATE&quot; : &quot;DATETIME&quot;,</div>
<div class="line">        &quot;TIME&quot; : &quot;DATETIME&quot;,</div>
<div class="line">        &quot;SET&quot; : &quot;DATETIME&quot;,</div>
<div class="line">        &quot;PERCENT&quot; : &quot;NUMERIC&quot;,</div>
<div class="line">        &quot;NUMBER&quot; : &quot;NUMERIC&quot;,</div>
<div class="line">        &quot;ORDINAL&quot; : &quot;O&quot;</div>
<div class="line">      },</div>
<div class="line">      &quot;subtypeMapping&quot;: {</div>
<div class="line">        &quot;SET&quot;: &quot;TEMPORAL&quot;,</div>
<div class="line">        &quot;TIME&quot;: &quot;TIME&quot;,</div>
<div class="line">        &quot;PERSON&quot;: &quot;NAME&quot;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  },</div>
<div class="line">  &quot;blacklist&quot;: {</div>
<div class="line">    &quot;DATETIME&quot;: [</div>
<div class="line">      &quot;day&quot;,</div>
<div class="line">      &quot;past&quot;,</div>
<div class="line">      &quot;days&quot;,</div>
<div class="line">      &quot;currently&quot;,</div>
<div class="line">      &quot;date&quot;,</div>
<div class="line">      &quot;present&quot;,</div>
<div class="line">      &quot;current&quot;,</div>
<div class="line">      &quot;hours&quot;,</div>
<div class="line">      &quot;weeks&quot;,</div>
<div class="line">      &quot;months&quot;,</div>
<div class="line">      &quot;years&quot;,</div>
<div class="line">      &quot;once&quot;</div>
<div class="line">    ],</div>
<div class="line">    &quot;ORGANIZATION&quot;: [</div>
<div class="line">      &quot;INP&quot;,</div>
<div class="line">      &quot;LTC&quot;</div>
<div class="line">    ]</div>
<div class="line">  },</div>
<div class="line">  &quot;connected&quot;: [</div>
<div class="line">    {</div>
<div class="line">      &quot;first&quot;: &quot;ORGANIZATION&quot;,</div>
<div class="line">      &quot;second&quot;: &quot;LOCATION&quot;,</div>
<div class="line">      &quot;endType&quot;: &quot;ORGANIZATION&quot;,</div>
<div class="line">      &quot;endSubtype&quot;: &quot;ORGANIZATION&quot;,</div>
<div class="line">      &quot;particles&quot;: [&quot;in&quot;, &quot;on&quot;, &quot;of&quot;, &quot;the&quot;, &quot;to&quot;]</div>
<div class="line">    }</div>
<div class="line">  ],</div>
<div class="line">  &quot;unreliable&quot;: {</div>
<div class="line">    &quot;Stanford&quot;: [</div>
<div class="line">      &quot;O&quot;,</div>
<div class="line">      &quot;DURATION&quot;,</div>
<div class="line">      &quot;MISC&quot;,</div>
<div class="line">      &quot;NUMERIC&quot;</div>
<div class="line">    ]</div>
<div class="line">  },</div>
<div class="line">  &quot;weights&quot;: {</div>
<div class="line">    &quot;Stanford&quot;: {</div>
<div class="line">      &quot;DATETIME&quot;: 50,</div>
<div class="line">      &quot;NAME&quot;: 95,</div>
<div class="line">      &quot;LOCATION&quot;: 90</div>
<div class="line">    },</div>
<div class="line">    &quot;PRIMA&quot;: {</div>
<div class="line">      &quot;DATETIME&quot;: 50,</div>
<div class="line">      &quot;EMAIL&quot;: 90,</div>
<div class="line">      &quot;NAME&quot;: 50</div>
<div class="line">    }</div>
<div class="line">  },</div>
<div class="line">  &quot;not_POS&quot;: [</div>
<div class="line">    &quot;DATETIME&quot;,</div>
<div class="line">    {&quot;MONTH&quot;: [&quot;may&quot;]},</div>
<div class="line">    &quot;DAY&quot;,</div>
<div class="line">    &quot;PHONE&quot;,</div>
<div class="line">    &quot;NUMERIC&quot;,</div>
<div class="line">    &quot;NATIONAL_ID&quot;,</div>
<div class="line">    &quot;EMAIL&quot;</div>
<div class="line">  ]</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md52"></a>
Annotators</h3>
<p>The library comes with a list of annotators:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Annotator name   </th><th class="markdownTableHeadNone">Class    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">PRIMA   </td><td class="markdownTableBodyNone"><a class="el" href="classcom_1_1ibm_1_1research_1_1drl_1_1dpt_1_1nlp_1_1_p_r_i_m_a_annotator.html">com.ibm.research.drl.dpt.nlp.PRIMAAnnotator</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">OpenNLP   </td><td class="markdownTableBodyNone"><a class="el" href="classcom_1_1ibm_1_1research_1_1drl_1_1dpt_1_1nlp_1_1opennlp_1_1_open_n_l_p_annotator.html">com.ibm.research.drl.dpt.nlp.opennlp.OpenNLPAnnotator</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">SystemT   </td><td class="markdownTableBodyNone">com.ibm.research.drl.dpt.nlp.systemT.SystemTAnnotator    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ACI   </td><td class="markdownTableBodyNone">com.ibm.research.drl.dpt.nlp.aci.ACIAnnotator    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">EMRA   </td><td class="markdownTableBodyNone">com.ibm.research.drl.dpt.nlp.medius.MediusAnnotator    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">WatsonNLU   </td><td class="markdownTableBodyNone">com.ibm.research.drl.dpt.nlp.watsonNLU.WatsonNLUAnnotator   </td></tr>
</table>
<h4><a class="anchor" id="autotoc_md53"></a>
Advanced Care Insights (ACI)</h4>
<p>Entities covered are names, phone numbers, email, organization, location, datetime entities of the medical domain (symptoms, diseases, ICD codes etc.). ACI is an online REST service. It does not expose any POS tagging capabilities.</p>
<p>The configuration for ACI:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;ACIEndpoint&quot;: &quot;ACI&quot;,</div>
<div class="line">  &quot;mapping&quot;: {</div>
<div class="line">    &quot;com.ibm.ha.en.PersonInd&quot;: &quot;NAME&quot;,</div>
<div class="line">    &quot;com.ibm.ha.en.LocationInd&quot;: &quot;LOCATION&quot;,</div>
<div class="line">    &quot;com.ibm.ha.en.SymptomDiseaseInd&quot;: &quot;SYMPTOM&quot;,</div>
<div class="line">    &quot;com.ibm.ha.en.ProcedureInd&quot;: &quot;PROCEDURE&quot;,</div>
<div class="line">    &quot;com.ibm.ha.US_PhoneNumberInd&quot;: &quot;PHONE&quot;,</div>
<div class="line">    &quot;com.ibm.ha.AllergyMedicationInd&quot;: &quot;MEDICINE&quot;,</div>
<div class="line">    &quot;com.ibm.ha.AllergyInd&quot;: &quot;SYMPTOM&quot;,</div>
<div class="line">    &quot;com.ibm.ha.dla.BathingAssistanceInd&quot;: &quot;PROCEDURE&quot;,</div>
<div class="line">    &quot;com.ibm.ha.IcaCancerDiagnosisInd&quot;: &quot;ICD&quot;,</div>
<div class="line">    &quot;com.ibm.ha.dla.DressingAssistanceInd&quot;: &quot;PROCEDURE&quot;,</div>
<div class="line">    &quot;com.ibm.ha.dla.EatingAssistanceInd&quot;: &quot;PROCEDURE&quot;,</div>
<div class="line">    &quot;com.ibm.ha.EjectionFractionInd&quot;: &quot;NUMBER&quot;,</div>
<div class="line">    &quot;com.ibm.ha.LabValueInd&quot;: &quot;NUMBER&quot;,</div>
<div class="line">    &quot;com.ibm.ha.MedicationInd&quot;: &quot;MEDICINE&quot;,</div>
<div class="line">    &quot;com.ibm.ha.EmailAddressInd&quot;: &quot;EMAIL&quot;,</div>
<div class="line">    &quot;com.ibm.ha.LocationInd&quot;: &quot;LOCATION&quot;,</div>
<div class="line">    &quot;com.ibm.ha.MedicalInstitutionInd&quot;: &quot;HOSPITAL&quot;,</div>
<div class="line">    &quot;com.ibm.ha.OrganizationInd&quot;: &quot;ORGANIZATION&quot;,</div>
<div class="line">    &quot;com.ibm.ha.dla.SeeingAssistanceInd&quot;: &quot;PROCEDURE&quot;,</div>
<div class="line">    &quot;com.ibm.ha.SmokingInd&quot;: &quot;BOOLEAN&quot;,</div>
<div class="line">    &quot;com.ibm.ha.dla.ToiletingAssistanceInd&quot;: &quot;PROCEDURE&quot;,</div>
<div class="line">    &quot;com.ibm.ha.dla.WalkingAssistanceInd&quot;: &quot;PROCEDURE&quot;,</div>
<div class="line">    &quot;com.ibm.ha.en.US_PhoneNumberInd&quot;: &quot;PHONE&quot;,</div>
<div class="line">    &quot;com.ibm.ha.en.OrganizationInd&quot;: &quot;ORGANIZATION&quot;,</div>
<div class="line">    &quot;PersonInd&quot;: &quot;NAME&quot;,</div>
<div class="line">    &quot;LocationInd&quot;: &quot;LOCATION&quot;,</div>
<div class="line">    &quot;SymptomDiseaseInd&quot;: &quot;SYMPTOM&quot;,</div>
<div class="line">    &quot;ProcedureInd&quot;: &quot;PROCEDURE&quot;,</div>
<div class="line">    &quot;PhoneNumberInd&quot;: &quot;PHONE&quot;,</div>
<div class="line">    &quot;OrganizationInd&quot;: &quot;ORGANIZATION&quot;,</div>
<div class="line">    &quot;US_PhoneNumberInd&quot;: &quot;PHONE&quot;,</div>
<div class="line">    &quot;MedicalInstitutionInd&quot;: &quot;ORGANIZATION&quot;,</div>
<div class="line">    &quot;EmailAddressInd&quot;: &quot;EMAIL&quot;,</div>
<div class="line">    &quot;MedicationInd&quot;: &quot;MEDICINE&quot;,</div>
<div class="line">    &quot;EatingAssistanceInd&quot;: &quot;PROCEDURE&quot;,</div>
<div class="line">    &quot;SeeingAssistanceInd&quot;: &quot;PROCEDURE&quot;,</div>
<div class="line">    &quot;LabValueInd&quot;: &quot;NUMBER&quot;,</div>
<div class="line">    &quot;IcaCancerDiagnosisInd&quot;: &quot;SYMPTOM&quot;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p>The <code>ACIEndpoint</code> contains the REST service base URL. The <code>mapping</code> configuration should not be changed.</p>
<h4><a class="anchor" id="autotoc_md54"></a>
Medius (EMRA)</h4>
<p>Entities covered are names, phone numbers, email, organization, location, datetime entities of the medical domain (symptoms, diseases, ICD codes etc.). Medius is an online REST service. It does not expose any POS tagging capabilities.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;MEDIUSEndpoint&quot;: &quot;URL&quot;,</div>
<div class="line">  &quot;minimumConfidence&quot;: 0.8,</div>
<div class="line">  &quot;mapping&quot;: {</div>
<div class="line">    &quot;PERSON&quot;: &quot;NAME&quot;,</div>
<div class="line">    &quot;TimeOfYear&quot;: &quot;DATETIME&quot;,</div>
<div class="line">    &quot;Date&quot;: &quot;DATETIME&quot;,</div>
<div class="line">    &quot;Medicine&quot;: &quot;MEDICINE&quot;,</div>
<div class="line">    &quot;umls_PharmacologicSubstance&quot;: &quot;MEDICINE&quot;,</div>
<div class="line">    &quot;Symptom&quot;: &quot;SYMPTOM&quot;,</div>
<div class="line">    &quot;Occupation&quot;: &quot;OCCUPATION&quot;,</div>
<div class="line">    &quot;umls_ProfessionalOrOccupationalGroup&quot;: &quot;OCCUPATION&quot;,</div>
<div class="line">    &quot;GovernmentOrganization&quot;: &quot;ORGANIZATION&quot;,</div>
<div class="line">    &quot;Organization&quot;: &quot;ORGANIZATION&quot;,</div>
<div class="line">    &quot;UsState&quot;: &quot;LOCATION&quot;,</div>
<div class="line">    &quot;umls_DiagnosticProcedure&quot;: &quot;PROCEDURE&quot;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p>The <code>MEDIUSEndpoint</code> contains the REST service base URL. The <code>mapping</code> and <code>minimumConfidence</code> configuration should not be changed.</p>
<h4><a class="anchor" id="autotoc_md55"></a>
Apache OpenNLP</h4>
<p>NLP-based annotator that detects names, organizations, locations and datetime It is an offline library and also provides POS tagging capabilities.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;defaultLanguage&quot;: &quot;ENGLISH&quot;,</div>
<div class="line">  &quot;configuration&quot; : {</div>
<div class="line">    &quot;ENGLISH&quot; : {</div>
<div class="line">      &quot;nameFinder&quot;: &quot;/nlp/en/en-ner-person.bin&quot;,</div>
<div class="line">      &quot;locationFinder&quot; : &quot;/nlp/en/en-ner-location.bin&quot;,</div>
<div class="line">      &quot;organizationFinder&quot; : &quot;/nlp/en/en-ner-organization.bin&quot;,</div>
<div class="line">      &quot;timeFinder&quot; : &quot;/nlp/en/en-ner-time.bin&quot;,</div>
<div class="line">      &quot;dateFinder&quot; : &quot;/nlp/en/en-ner-date.bin&quot;,</div>
<div class="line">      &quot;sentenceFinder&quot; : &quot;/nlp/en/en-sent.bin&quot;,</div>
<div class="line">      &quot;tagger&quot; : &quot;/nlp/en/en-pos-maxent.bin&quot;,</div>
<div class="line">      &quot;tokenizer&quot; : &quot;/nlp/en/en-token.bin&quot;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p>The configuration needs to include the location of the models.</p>
<h4><a class="anchor" id="autotoc_md56"></a>
Stanford CoreNLP</h4>
<p>NLP-based annotator that detects names, organizations, locations and datetime. It is an offline library and also provides POS tagging capabilities.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;defaultLanguage&quot; : &quot;ENGLISH&quot;,</div>
<div class="line">  &quot;configuration&quot;: {</div>
<div class="line">    &quot;ENGLISH&quot; :  [</div>
<div class="line">      &quot;annotators&quot;, &quot;tokenize,ssplit,pos,lemma,ner&quot;,</div>
<div class="line">      &quot;tokenize.language&quot;, &quot;en&quot;</div>
<div class="line">    ]</div>
<div class="line">  },</div>
<div class="line">  &quot;mapping&quot;: {</div>
<div class="line">    &quot;PERSON&quot; : &quot;NAME&quot;,</div>
<div class="line">    &quot;DATE&quot; : &quot;DATETIME&quot;,</div>
<div class="line">    &quot;TIME&quot; : &quot;DATETIME&quot;,</div>
<div class="line">    &quot;SET&quot; : &quot;DATETIME&quot;,</div>
<div class="line">    &quot;PERCENT&quot; : &quot;NUMERIC&quot;,</div>
<div class="line">    &quot;NUMBER&quot; : &quot;NUMERIC&quot;,</div>
<div class="line">    &quot;ORDINAL&quot; : &quot;O&quot;</div>
<div class="line">  },</div>
<div class="line"> </div>
<div class="line">  &quot;subtypeMapping&quot;: {</div>
<div class="line">    &quot;SET&quot;: &quot;TEMPORAL&quot;,</div>
<div class="line">    &quot;TIME&quot;: &quot;TIME&quot;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment --><p>The <code>configuration</code> element specifies which modules to load from CoreNLP package and in what order. <code>tokenize.language</code> defines the language of the models. Other options include parse.model, ner.model and pos.model. See <a href="https://stanfordnlp.github.io/CoreNLP/annotators.html">https://stanfordnlp.github.io/CoreNLP/annotators.html</a> for more details on the available options. The <code>mapping</code> and <code>subtypeMapping</code> should not be changed.</p>
<h4><a class="anchor" id="autotoc_md57"></a>
SystemT</h4>
<p>It is an offline Java library that compiles and executes AQL scripts. It expose any POS tagging capabilities. Entities covered are address, datetime, email, location, organization, person, phone number and URL.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;COMPILED_MODULES_PATH&quot;: &quot;/systemt/tam&quot;,</div>
<div class="line">  &quot;sourceModulePath&quot;: &quot;/systemt/src&quot;,</div>
<div class="line">  &quot;internalTypeMapping&quot;: {</div>
<div class="line">    &quot;Person&quot; : &quot;Person_Name&quot;,</div>
<div class="line">    &quot;Email&quot; : &quot;Email_Address&quot;,</div>
<div class="line">    &quot;Organization&quot; : &quot;Organization&quot;,</div>
<div class="line">    &quot;DateTime&quot; : &quot;Date_Time&quot;,</div>
<div class="line">    &quot;Location&quot; : &quot;Location&quot;,</div>
<div class="line">    &quot;Address&quot; : &quot;Address&quot;,</div>
<div class="line">    &quot;URL&quot; : &quot;URL&quot;,</div>
<div class="line">    &quot;PhoneNumber&quot; : &quot;Phone_Number&quot;</div>
<div class="line">  },</div>
<div class="line">  &quot;mapping&quot;: {</div>
<div class="line">    &quot;Person&quot; : &quot;NAME&quot;,</div>
<div class="line">    &quot;Email&quot; : &quot;EMAIL&quot;,</div>
<div class="line">    &quot;Organization&quot; : &quot;ORGANIZATION&quot;,</div>
<div class="line">    &quot;DateTime&quot; : &quot;DATETIME&quot;,</div>
<div class="line">    &quot;Location&quot; : &quot;LOCATION&quot;,</div>
<div class="line">    &quot;Address&quot; : &quot;LOCATION&quot;,</div>
<div class="line">    &quot;URL&quot; : &quot;URL&quot;,</div>
<div class="line">    &quot;PhoneNumber&quot; : &quot;PHONE&quot;</div>
<div class="line">  },</div>
<div class="line">  &quot;sourceModules&quot;: [</div>
<div class="line">    &quot;demo&quot;</div>
<div class="line">  ],</div>
<div class="line">  &quot;compiledModules&quot;: [],</div>
<div class="line">  &quot;posModules&quot;: [</div>
<div class="line">    &quot;POSOutput&quot;</div>
<div class="line">  ],</div>
<div class="line">  &quot;posMapping&quot;: {</div>
<div class="line">    &quot;Adverb&quot;: &quot;adv&quot;,</div>
<div class="line">    &quot;Adjective&quot;: &quot;adj&quot;,</div>
<div class="line">    &quot;Verb&quot;: &quot;verb&quot;,</div>
<div class="line">    &quot;Noun&quot;: &quot;noun&quot;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p>This configuration should not be modified.</p>
<h4><a class="anchor" id="autotoc_md58"></a>
PRIMA</h4>
<p>PRIMA contains a set identifiers based on either dictionaries, regex or code It is an offline library that does not provide any POS tagging capabilities. Identifiers are called for a sliding window of N tokens. External identifiers can be plugged in.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;sentenceDetectorModel&quot;: &quot;/nlp/en/en-sent.bin&quot;,</div>
<div class="line">  &quot;mapping&quot;: {</div>
<div class="line">    &quot;ADDRESS&quot; : &quot;LOCATION&quot;,</div>
<div class="line">    &quot;STATES_US&quot; : &quot;LOCATION&quot;,</div>
<div class="line">    &quot;CITY&quot; : &quot;LOCATION&quot;,</div>
<div class="line">    &quot;DAY&quot; : &quot;DATETIME&quot;,</div>
<div class="line">    &quot;MONTH&quot; : &quot;DATETIME&quot;,</div>
<div class="line">    &quot;SSN_US&quot; : &quot;NATIONAL_ID&quot;,</div>
<div class="line">    &quot;SSN_UK&quot; : &quot;NATIONAL_ID&quot;,</div>
<div class="line">    &quot;HOSPITAL&quot;: &quot;ORGANIZATION&quot;</div>
<div class="line">  },</div>
<div class="line">  &quot;splitSentences&quot; : true,</div>
<div class="line">  &quot;MIN_SHINGLE_SIZE&quot; : 2,</div>
<div class="line">  &quot;MAX_SHINGLE_SIZE&quot; : 10</div>
<div class="line">}</div>
</div><!-- fragment --><p>Sentence splitting is based on Apache OpenNLP. The sentenceDetectorModel defines the location of the model to load</p>
<p>The <code>mapping</code> and shingle configuration should not be changed.</p>
<p>The user can also specify the list of identifiers to load from the PRIMA core through the <code>identifiers</code> option. If the option is missing, then the PRIMAAnnotator will use the system defaults. The user can specify the list of identifiers to load through two alternative ways. The first one is make the value of the <code>identifiers</code> option an array of string, where each string represent the fully qualified class name of the identifier to load. For example, the following configuration will load only the email identifier:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;sentenceDetectorModel&quot;: &quot;/nlp/en/en-sent.bin&quot;,</div>
<div class="line">  &quot;mapping&quot;: {</div>
<div class="line">    &quot;ADDRESS&quot; : &quot;LOCATION&quot;,</div>
<div class="line">    &quot;STATES_US&quot; : &quot;LOCATION&quot;,</div>
<div class="line">    &quot;CITY&quot; : &quot;LOCATION&quot;,</div>
<div class="line">    &quot;DAY&quot; : &quot;DATETIME&quot;,</div>
<div class="line">    &quot;MONTH&quot; : &quot;DATETIME&quot;,</div>
<div class="line">    &quot;SSN_US&quot; : &quot;NATIONAL_ID&quot;,</div>
<div class="line">    &quot;SSN_UK&quot; : &quot;NATIONAL_ID&quot;,</div>
<div class="line">    &quot;HOSPITAL&quot;: &quot;ORGANIZATION&quot;</div>
<div class="line">  },</div>
<div class="line"> </div>
<div class="line">    &quot;identifiers&quot;: [</div>
<div class="line">        &quot;com.ibm.research.drl.dpt.providers.identifiers.EmailIdentifier&quot;</div>
<div class="line">    ],</div>
<div class="line"> </div>
<div class="line">  &quot;MIN_SHINGLE_SIZE&quot; : 2,</div>
<div class="line">  &quot;MAX_SHINGLE_SIZE&quot; : 10</div>
<div class="line">}</div>
</div><!-- fragment --><p>When specifying the identifiers list as an array, there are two options for its values:</p>
<ul>
<li>string, specifying fully qualified class name of a class implementing the <code>Annotator</code> interface;</li>
<li>an object of the form:</li>
</ul>
<div class="fragment"><div class="line">{</div>
<div class="line">    &quot;type&quot;: &quot;REGEX&quot;,</div>
<div class="line">    &quot;providerType&quot;: &quot;SENSITIVE_LISTS&quot;,</div>
<div class="line">    &quot;regex&quot;: [</div>
<div class="line">      &quot;^true$&quot;</div>
<div class="line">    ]</div>
<div class="line">  }</div>
</div><!-- fragment --><p> where <code>type</code> must be <code>REGEX</code> or <code>DICTIONARY_BASED</code>, <code>providerType</code> defines the provider type name of this custom identifer. When type is <code>REGEX</code> then a field <code>regex</code> is expected that is an array of string representing regular expressions patterns (Java/POSIX standard). If the type is <code>DICTIONARY_BASED</code> then a field <code>terms</code> with the dictionary terms is expected.</p>
<p>The second way is to make the <code>identifiers</code> option an object that requires two keys: the <code>path</code> and the <code>resourceType</code>. The <code>resourceType</code> can be either <code>EXTERNAL_FILENAME</code> if we want to load the identifiers list from a file or <code>INTERNAL_RESOURCE</code> if we want to load the list from a location loaded in the classpath. The <code>path</code> points to the location of the resource.</p>
<p>For example, the following configuration will load from the file <code>/tmp/identifiers.properties</code></p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;sentenceDetectorModel&quot;: &quot;/nlp/en/en-sent.bin&quot;,</div>
<div class="line">  &quot;mapping&quot;: {</div>
<div class="line">    &quot;ADDRESS&quot; : &quot;LOCATION&quot;,</div>
<div class="line">    &quot;STATES_US&quot; : &quot;LOCATION&quot;,</div>
<div class="line">    &quot;CITY&quot; : &quot;LOCATION&quot;,</div>
<div class="line">    &quot;DAY&quot; : &quot;DATETIME&quot;,</div>
<div class="line">    &quot;MONTH&quot; : &quot;DATETIME&quot;,</div>
<div class="line">    &quot;SSN_US&quot; : &quot;NATIONAL_ID&quot;,</div>
<div class="line">    &quot;SSN_UK&quot; : &quot;NATIONAL_ID&quot;,</div>
<div class="line">    &quot;HOSPITAL&quot;: &quot;ORGANIZATION&quot;</div>
<div class="line">  },</div>
<div class="line"> </div>
<div class="line">    &quot;identifiers&quot;: {</div>
<div class="line">        &quot;path&quot; : &quot;/tmp/identifiers.properties&quot;,</div>
<div class="line">        &quot;resourceType&quot;: &quot;EXTERNAL_FILENAME&quot;</div>
<div class="line">    },</div>
<div class="line"> </div>
<div class="line">  &quot;MIN_SHINGLE_SIZE&quot; : 2,</div>
<div class="line">  &quot;MAX_SHINGLE_SIZE&quot; : 10</div>
<div class="line">}</div>
</div><!-- fragment --><p>The contents of the list must be one entry per line, where the entry is the fully qualified class name of the identifier to load.</p>
<h4><a class="anchor" id="autotoc_md59"></a>
Watson Natural Language Understanding (NLU)</h4>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;apiGateway&quot; : &quot;URL&quot;,</div>
<div class="line">  &quot;version&quot; : &quot;2017-02-27&quot;,</div>
<div class="line"> </div>
<div class="line">  &quot;basicAuthorization&quot; : &quot;basic auth string here&quot;,</div>
<div class="line">  &quot;model&quot;: null,</div>
<div class="line"> </div>
<div class="line">  &quot;mapping&quot;: {</div>
<div class="line">    &quot;Person&quot; : &quot;NAME&quot;,</div>
<div class="line">    &quot;Location&quot; : &quot;LOCATION&quot;,</div>
<div class="line">    &quot;GeographicFeature&quot;: &quot;LOCATION&quot;,</div>
<div class="line">    &quot;EmailAddress&quot; : &quot;EMAIL&quot;,</div>
<div class="line">    &quot;Organization&quot; : &quot;ORGANIZATION&quot;,</div>
<div class="line">    &quot;Facility&quot; : &quot;ORGANIZATION&quot;,</div>
<div class="line">    &quot;Company&quot; : &quot;ORGANIZATION&quot;,</div>
<div class="line">    &quot;JobTitle&quot; : &quot;OCCUPATION&quot;,</div>
<div class="line">    &quot;HealthCondition&quot; : &quot;SYMPTOM&quot;</div>
<div class="line">  },</div>
<div class="line"> </div>
<div class="line">  &quot;ignoreTypes&quot; : [</div>
<div class="line">    &quot;PrintMedia&quot;,</div>
<div class="line">    &quot;Quantity&quot;</div>
<div class="line">  ]</div>
<div class="line">}</div>
</div><!-- fragment --><p>The <code>apiGateway</code> and <code>version</code> contain the base URL and version to invoke. The <code>basicAuthorization</code> must containt the basic auth string to authenticate against the service. The <code>model</code> option defines the WKS model to be used. If it is null, the default NLU models will be used.</p>
<p>The <code>mapping</code> and <code>ignoreTypes</code> configuration should not be changed.</p>
<h1><a class="anchor" id="autotoc_md60"></a>
Masking natural language text</h1>
<p>In order to mask natural language text we need to initialize a <code>FreeTextMaskingProvider</code> based on the following constructor:</p>
<div class="fragment"><div class="line">public FreeTextMaskingProvider(SecureRandom random,</div>
<div class="line">            MaskingConfiguration configuration,</div>
<div class="line">            MaskingProviderFactory maskingProviderFactory,</div>
<div class="line">            NLPAnnotator identifier)</div>
</div><!-- fragment --><p>The <code>configuration</code> contains the masking configuration and <code>maskingProviderFactory</code> is the factory for the masking providers. See the masking API documentation on how to instantiate the configuration and the factory.</p>
<p>The <code>identifier</code> is an instance of a <code>ComplexFreeTextAnnotator</code> as described in the sections above.</p>
<p>Once the masking provider is initialized, then we can perform masking via:</p>
<div class="fragment"><div class="line">String mask(String input)</div>
</div><!-- fragment --><p>An example:</p>
<div class="fragment"><div class="line"><span class="keyword">import</span> com.ibm.research.drl.dpt.configuration.DefaultMaskingConfiguration;</div>
<div class="line"><span class="keyword">import</span> com.ibm.research.drl.dpt.configuration.MaskingConfiguration;</div>
<div class="line"><span class="keyword">import</span> com.ibm.research.drl.dpt.providers.masking.MaskingProvider;</div>
<div class="line"><span class="keyword">import</span> java.security.SecureRandom;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span> <span class="keywordtype">void</span> testTextWithPI() {</div>
<div class="line">    String phi = <span class="stringliteral">&quot;John Smith went for a trip to Paris&quot;</span>;</div>
<div class="line">    MaskingConfiguration maskingConfiguration = <span class="keyword">new</span> DefaultMaskingConfiguration();</div>
<div class="line"> </div>
<div class="line">    MaskingProvider maskingProvider =</div>
<div class="line">        <span class="keyword">new</span> FreeTextMaskingProvider(<span class="keyword">new</span> SecureRandom(), maskingConfiguration,</div>
<div class="line">        <span class="keyword">new</span> MaskingProviderFactory());</div>
<div class="line"> </div>
<div class="line">    String maskedText = maskingProvider.mask(phi);</div>
<div class="line">    System.out.println(maskedText);</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md61"></a>
Plugging in new annotators</h1>
<p>Every new annotator needs to implement the NLPAnnotator interface:</p>
<div class="fragment"><div class="line">public interface NLPAnnotator {</div>
<div class="line">    List&lt;IdentifiedEntity&gt; identify(String text) throws IOException;</div>
<div class="line">    String getName();</div>
<div class="line">}</div>
</div><!-- fragment --><p>The IdentifiedEntity contains the necessary information for an identified part of text: the value as a string, starting and ending offset, the data types identified and the part of speech associated. The newly developed annotator can then be plugged in to the pipeline through its FQDN. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>

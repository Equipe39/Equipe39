<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PolyBM: Invoking the masking Spark executor</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="LGS.jpg"/></td>
  <td id="projectalign">
   <div id="projectname">PolyBM<span id="projectnumber">&#160;0.1</span>
   </div>
   <div id="projectbrief">The PolyBM Data Analysis Tool is an AI tool that helps users profile, format, and anonymize data from CSV, JSON, and XML files. The tool offers various functionalities such as creating charts, generating data quality reports, and anonymizing sensitive data.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Invoking the masking Spark executor </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The masking executor requires the input and output paths as well as the configuration file. It can be invoked as:</p>
<div class="fragment"><div class="line">spark-submit \</div>
<div class="line">    --class com.ibm.research.drl.dpt.spark.masking.DataMaskingExecutor \</div>
<div class="line">    dpt-spark-$VERSION-jar-with-dependencies.jar \</div>
<div class="line">    -c masking_conf.json \</div>
<div class="line">    -i test.csv \</div>
<div class="line">    -o masked_output</div>
</div><!-- fragment --><p>where <code>masking_conf.json</code> is the masking configuration file, <code>test.csv</code> is the input file and <code>masked_output</code> is the output directory.</p>
<p>The full list of parameters to the executor are:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Parameter   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">-i,&ndash;input &lt;arg&gt;   </td><td class="markdownTableBodyNone">Path to the file to be masked (required)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">-o,&ndash;output &lt;arg&gt;   </td><td class="markdownTableBodyNone">Output directory (required)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">-c,&ndash;conf &lt;arg&gt;   </td><td class="markdownTableBodyNone">Path to the configuration file (required)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">-p &lt;arg&gt;   </td><td class="markdownTableBodyNone">Partition output. &lt;arg&gt; is a comma-separated list of fields to be used for partitioning. The order of this list defines the partitioning order (optional)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">-a   </td><td class="markdownTableBodyNone">Write output in append mode (optional)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">-basePath &lt;arg&gt;   </td><td class="markdownTableBodyNone">Specify the base path of the input (optional)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">&ndash;remoteConf   </td><td class="markdownTableBodyNone">If set, then the configuration file will be read from HDFS (optional)   </td></tr>
</table>
<p>The <code>--remoteConf</code> controls if the configuration file should be read from HDFS instead of the local filesystem.</p>
<h1><a class="anchor" id="autotoc_md182"></a>
Invoking the Spark RDD API</h1>
<p>Users can invoke the Spark API as:</p>
<div class="fragment"><div class="line"><span class="keyword">import</span> com.ibm.research.drl.dpt.spark.masking.DataMasking;</div>
<div class="line"><span class="keyword">import</span> org.apache.spark.rdd.RDD;</div>
<div class="line"><span class="keyword">import</span> org.apache.spark.sql.Row;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span> Dataset&lt;Row&gt; maskRDD(Dataset&lt;Row&gt; input, InputStream confStream) {</div>
<div class="line">    <span class="keywordflow">return</span> DataMasking.run(confStream, input);</div>
<div class="line">}</div>
</div><!-- fragment --><p>where <code>confStream</code> is the input stream to the masking configuration file and <code>input</code> is the RDD containing the data to mask.</p>
<h1><a class="anchor" id="autotoc_md183"></a>
Writing the masking configuration file</h1>
<p>The masking action requires a configuration file in order to understand the input formats, the fields in the file and the masking configuration for each field.</p>
<p>This is a sample template for the masking configuration:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;delimiter&quot;: &quot;,&quot;,</div>
<div class="line">  &quot;quoteChar&quot;: &quot;\&quot;&quot;,</div>
<div class="line">  &quot;hasHeader&quot;: false,</div>
<div class="line">  &quot;trimFields&quot;: true,</div>
<div class="line"> </div>
<div class="line">  &quot;toBeMasked&quot; : {},</div>
<div class="line"> </div>
<div class="line">  &quot;inputFormat&quot;: &quot;CSV&quot;,</div>
<div class="line">  &quot;outputFormat&quot;: &quot;CSV&quot;,</div>
<div class="line">  </div>
<div class="line">  &quot;predefinedRelationships&quot; : [],</div>
<div class="line"> </div>
<div class="line">  &quot;_fields&quot; : {</div>
<div class="line">  },</div>
<div class="line">  &quot;_defaults&quot;: {</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p><b>Explanation</b></p>
<ul>
<li><em>inputFormat</em>: defines the input format for the export.</li>
</ul>
<p>The following data input formats are supported:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Data input format type enumeration    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">CSV    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">JSON    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">DICOM    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">XLS    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">XLSX    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">XML    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">HL7    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">FHIR_JSON    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">PARQUET    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">VCF   </td></tr>
</table>
<ul>
<li><em>toBeMasked</em> is a dictionary that maps the field names with their masking provider. The keys of the dictionary are the field names. The value for each is the name of the masking provider (see below section "Masking configuration options" for the full list of masking providers available). The number of the keys does not necessarily need to be equal to the number of fields in the file. Only the fields present in <em>toBeMasked</em> dictionary will be masked. For example, if we have three fields f1, f2 and f3 and we want to mask f2 using the <code>SHIFT</code> masking provider and f3 using the <code>BINNING</code> masking provider, then <em>toBeMasked</em> should look like this:</li>
</ul>
<div class="fragment"><div class="line">&quot;toBeMasked&quot; : {</div>
<div class="line">    &quot;f2&quot;: &quot;SHIFT&quot;,</div>
<div class="line">    &quot;f3&quot;: &quot;BINNING&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><p>In the example above, the masked result of <code>f2</code> column will be saved to the same column. In case the user does not want inline replacement, then they can specify the target path to save the masking result in the following way:</p>
<div class="fragment"><div class="line">&quot;toBeMasked&quot; : {</div>
<div class="line">    &quot;f2&quot;: {</div>
<div class="line">       &quot;providerType&quot;: &quot;SHIFT&quot;,</div>
<div class="line">       &quot;targetPath&quot; : &quot;f4&quot;</div>
<div class="line">    },</div>
<div class="line">    &quot;f3&quot;: &quot;BINNING&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><p>This way, the masked values of <code>f2</code> will be saved to column <code>f4</code>.</p>
<ul>
<li><code>outputFormat</code> defines the output format.</li>
<li>options <code>quoteChar</code>, <code>delimiter</code>, <code>hasHeader</code> and <code>trimFields</code> are input-specific options</li>
<li><code>predefinedRelationships</code> include the relationships between fields. See section below for more details. If there are no relationships, the field can be ommitted or set to <code>null</code> or be an empty array.</li>
<li>*_fields* is a dictionary that includes the per-field masking configuration (see below section "Masking configuration options" for more details). The dictionary is keyed using the field names of the CSV file.</li>
<li>*_defaults* is a dictionary with key-value pairs that override the default masking configuration (see below section "Masking configuration options" for more details)</li>
</ul>
<p><b>Example for CSV files</b></p>
<p>The following examples assumes two columns in the CSV dataset: f0 and f1. We set that f0 will be masked using the <code>SHIFT</code> masking provider.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;delimiter&quot;: &quot;,&quot;,</div>
<div class="line">  &quot;quoteChar&quot;: &quot;\&quot;&quot;,</div>
<div class="line">  &quot;hasHeader&quot;: false,</div>
<div class="line">  &quot;trimFields&quot;: false,</div>
<div class="line"> </div>
<div class="line">  &quot;toBeMasked&quot; : {</div>
<div class="line">    &quot;Column 0&quot;: &quot;SHIFT&quot;</div>
<div class="line">  },</div>
<div class="line"> </div>
<div class="line">  &quot;inputFormat&quot;: &quot;CSV&quot;,</div>
<div class="line">  &quot;outputFormat&quot;: &quot;CSV&quot;,</div>
<div class="line"> </div>
<div class="line">  &quot;_fields&quot; : {</div>
<div class="line">  },</div>
<div class="line">  &quot;_defaults&quot;: {</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md184"></a>
Configuration options for the masking providers</h1>
<p>Masking configuration options control how the masking providers behave. For example, we want to mask a numeric field named <code>height</code> using the SHIFT masking provider. By default, the SHIFT masking provider shifts the value by +1.0, since the default value of <code>shift.mask.value</code> is set to 1.0 (see the relevant section in the list of options). So, the value <code>2</code> will be masked to <code>3</code>. Let's assume that we want to shift the value by +2.4. We have two options to alter the behavior of the masking provider:</p>
<ol type="1">
<li>We override the configuration option in the <code>_defaults</code> section of the masking configuration. The <code>_defaults</code> section will now look like:</li>
</ol>
<div class="fragment"><div class="line">&quot;_fields&quot;: {</div>
<div class="line">},</div>
<div class="line">&quot;_defaults&quot;: {</div>
<div class="line">    &quot;shift.mask.value&quot;: 2.4</div>
<div class="line">}</div>
</div><!-- fragment --><p> All the SHIFT masking providers will now be initialized to shift by +2.4. The <code>_defaults</code> section overrides the values of the system defaults encoded in the library.</p>
<ol type="1">
<li>We override the per-field configuration in the <code>_fields</code> section. The section will now look like:</li>
</ol>
<div class="fragment"><div class="line">&quot;_fields&quot;: {</div>
<div class="line">    &quot;height&quot;: {</div>
<div class="line">        &quot;shift.mask.value&quot;: 2.4</div>
<div class="line">    }</div>
<div class="line">},</div>
<div class="line">&quot;_defaults&quot;: {</div>
<div class="line">}</div>
</div><!-- fragment --><p> The per-field configuration allows us to alter the behavior of that masking provider only for that field. If, for example, there is another numeric field in the file, lets name it <code>weight</code>, and we want to apply the SHIFT masking provider to it, then its masking provider will be initialized using the <code>_defaults</code> section and/or the system defaults (given the configuration above).</p>
<p>The configuration options in the <code>_fields</code> section have priority over the <code>_defaults</code> which in their turn have priority over the system defaults.</p>
<p>So in the case we have two fields, lets call them height and weight, and we want to apply different shift values to them, for example +2.4 for height and +3.5 for weight, then the configuration will look like:</p>
<div class="fragment"><div class="line">&quot;_fields&quot;: {</div>
<div class="line">    &quot;height&quot;: {</div>
<div class="line">        &quot;shift.mask.value&quot;: 2.4</div>
<div class="line">    },</div>
<div class="line">    &quot;weight&quot;: {</div>
<div class="line">        &quot;shift.mask.value&quot;: 3.5</div>
<div class="line">    }</div>
<div class="line">},</div>
<div class="line">&quot;_defaults&quot;: {</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md185"></a>
Configuration for consistent masking</h2>
<p>Let's assume that we have an input file with two columns, f0 and f1. By default, non-consistent masking is applied. We want to consistently mask the f0 column using the <code>BINNING</code> masking provider. To achieve this, we need to set <code>persistence.export</code> to true in the per-field configuration for f0. The default setting is to do consistent masking in-memory, thus the masking results will be consistent for that session but the results of the consistent replacement will be lost at exit.</p>
<p>The consistent masking requires a namespace to be provided every time we enable <code>persistence.export</code> to true. The namespace value is user-provided</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;delimiter&quot;: &quot;,&quot;,</div>
<div class="line">  &quot;quoteChar&quot;: &quot;\&quot;&quot;,</div>
<div class="line">  &quot;hasHeader&quot;: false,</div>
<div class="line">  &quot;trimFields&quot;: false,</div>
<div class="line"> </div>
<div class="line">  &quot;toBeMasked&quot; : {</div>
<div class="line">    &quot;f0&quot;: &quot;BINNING&quot;</div>
<div class="line">  },</div>
<div class="line"> </div>
<div class="line">  &quot;inputFormat&quot;: &quot;CSV&quot;,</div>
<div class="line">  &quot;outputFormat&quot;: &quot;CSV&quot;,</div>
<div class="line"> </div>
<div class="line">  &quot;_fields&quot; : {</div>
<div class="line">   &quot;f0&quot;: {</div>
<div class="line">        &quot;persistence.export&quot;: true,</div>
<div class="line">        &quot;persistence.type&quot;: &quot;memory&quot;,</div>
<div class="line">        &quot;persistence.namespace&quot;: &quot;f0_ns&quot;</div>
<div class="line">    }</div>
<div class="line">  },</div>
<div class="line">  &quot;_defaults&quot;: {</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p>If we want to have consistent masking across exports, we need to enable it by setting the correct configuration options to the per-field configuration. We need to set <code>persistence.type</code> to <code>"file"</code> and <code>persistence.file</code> should include a directory where we have permission to store the mappings. The following example, will store the consistent masking results to <code>/tmp/f0_ns</code>. The next time the toolkit runs, it will initialize the masking mapping for that column from that file, thus ensuring consistent results across different executions.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;delimiter&quot;: &quot;,&quot;,</div>
<div class="line">  &quot;quoteChar&quot;: &quot;\&quot;&quot;,</div>
<div class="line">  &quot;hasHeader&quot;: false,</div>
<div class="line"> </div>
<div class="line">  &quot;toBeMasked&quot; : {</div>
<div class="line">    &quot;f0&quot;: &quot;BINNING&quot;</div>
<div class="line">  },</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">  &quot;inputFormat&quot;: &quot;CSV&quot;,</div>
<div class="line">  &quot;outputFormat&quot;: &quot;CSV&quot;,</div>
<div class="line"> </div>
<div class="line">  &quot;_fields&quot; : {</div>
<div class="line">   &quot;f0&quot;: {</div>
<div class="line">        &quot;persistence.export&quot;: true,</div>
<div class="line">        &quot;persistence.type&quot;: &quot;file&quot;,</div>
<div class="line">        &quot;persistence.file&quot;: &quot;/tmp/&quot;,</div>
<div class="line">        &quot;persistence.namespace&quot;: &quot;f0_ns&quot;</div>
<div class="line">    }</div>
<div class="line">  },</div>
<div class="line">  &quot;_defaults&quot;: {</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md186"></a>
Predefined relationships</h2>
<p>The <code>predefinedRelationships</code> list includes a list of relationships between fields. Each relationship is an object. An example relationship is shown below:</p>
<div class="fragment"><div class="line">&quot;predefinedRelationships&quot; : [</div>
<div class="line">    {</div>
<div class="line">      &quot;fieldName&quot;: &quot;date&quot;,</div>
<div class="line">      &quot;relationshipType&quot;: &quot;KEY&quot;,</div>
<div class="line">      &quot;valueClass&quot;: &quot;DATE&quot;,</div>
<div class="line">      &quot;operands&quot;: [</div>
<div class="line">        {</div>
<div class="line">          &quot;name&quot;: &quot;id&quot;,</div>
<div class="line">          &quot;type&quot;: &quot;NUMERIC&quot;</div>
<div class="line">        }</div>
<div class="line">      ]</div>
<div class="line">    }</div>
<div class="line">  ],</div>
</div><!-- fragment --><p>Each relationship needs to define the following keys:</p>
<ul>
<li><code>fieldName</code> which is the name of the field for which the relationship is about</li>
<li><code>valueClass</code> , this can be <code>TEXT</code>, <code>DATE</code></li>
<li>a list of operands defined by the <code>operands</code> array. Each operand is an object with two keys: <code>name</code> which is the field name of the operand and <code>type</code> which is the semantic type of the operand (unused for now)</li>
<li><code>relationshipType</code> which defines the relationship type between <code>fieldName</code> and its operands. Relationship types can be <code>EQUAL</code>, <code>LESS</code>, <code>GREATER</code>, <code>KEY</code> and <code>LINKED</code>.</li>
</ul>
<p>The following compound relationships are supported:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Masking provider   </th><th class="markdownTableHeadNone">Relationship types   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">DATETIME   </td><td class="markdownTableBodyNone">LESS, GREATER, EQUAL, DISTANCE   </td><td class="markdownTableBodyNone">The masked result will respect the date difference between the fields and its operands. LESS means we know that the date is before the operand, GREATER means it is after. The DISTANCE type identifies the distance on a value basis and respects it in the masked result    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">DATETIME   </td><td class="markdownTableBodyNone">KEY   </td><td class="markdownTableBodyNone">The date will be masked using the operand as the key    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">REPLACE   </td><td class="markdownTableBodyNone">KEY   </td><td class="markdownTableBodyNone">Check if we want to replace a value based on operand value    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">RATIO_BASED   </td><td class="markdownTableBodyNone">KEY   </td><td class="markdownTableBodyNone">Use the operand as the ratio value to mask    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">RATIO_BASED   </td><td class="markdownTableBodyNone">LINKED   </td><td class="markdownTableBodyNone">Respect the ratio between the value to mask and the operand value    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">COUNTRY   </td><td class="markdownTableBodyNone">LINKED   </td><td class="markdownTableBodyNone">Mask the country value with the country where the operand value belongs (e.g. city)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">CONTINENT   </td><td class="markdownTableBodyNone">LINKED   </td><td class="markdownTableBodyNone">Mask the continent value with the continent where the operand value belongs (e.g. city or country)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">DUMMY   </td><td class="markdownTableBodyNone">EQUALS   </td><td class="markdownTableBodyNone">Copies the value from the operand    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">FREE_TEXT   </td><td class="markdownTableBodyNone">GREP_AND_MASK   </td><td class="markdownTableBodyNone">Gets the tokens from the operands and looks them up on the operator. Located tokens will be masked according to the configuration   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md187"></a>
CSV masking</h1>
<p>The following examples assumes two columns in the CSV dataset: f0 and f1. We set that f0 will be masked using the <code>SHIFT</code> masking provider.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;delimiter&quot;: &quot;,&quot;,</div>
<div class="line">  &quot;quoteChar&quot;: &quot;\&quot;&quot;,</div>
<div class="line">  &quot;hasHeader&quot;: false,</div>
<div class="line">  &quot;trimFields&quot;: false,</div>
<div class="line">    </div>
<div class="line">  &quot;toBeMasked&quot; : {</div>
<div class="line">    &quot;Column 0&quot;: &quot;SHIFT&quot;</div>
<div class="line">  },</div>
<div class="line"> </div>
<div class="line">  &quot;inputFormat&quot;: &quot;CSV&quot;,</div>
<div class="line">  &quot;outputFormat&quot;: &quot;CSV&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><ul>
<li>The <code>delimiter</code> and <code>quoteChar</code> values are used to determine the delimiter and quote char being used for the CSV format and the <em>hasHeader</em> value is used to determine if the first row of the file should be treated as a header.</li>
<li><code>trimFields</code> specifies if we want to trim the trailing spaces of CSV fields</li>
</ul>
<p>Fields are named after the column names as specified in the CSV header. If the header is missing the fields will be named <code>Column 0</code>, <code>Column 1</code>, etc.</p>
<h1><a class="anchor" id="autotoc_md188"></a>
JSON masking</h1>
<p>Let's assume that our input is the following input record:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    &quot;name&quot; : &quot;John&quot;,</div>
<div class="line">    &quot;surname&quot; : &quot;Smith&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><p> and we want to use the name masking provider on the <code>name</code> field and the hashing masking provider on the <code>surname</code> field.</p>
<p>For JSON, we need to pass the following data masking options:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;delimiter&quot;: &quot;,&quot;,</div>
<div class="line">  &quot;quoteChar&quot;: &quot;\&quot;&quot;,</div>
<div class="line">  &quot;hasHeader&quot;: false,</div>
<div class="line">  &quot;trimFields&quot;: false,</div>
<div class="line">  </div>
<div class="line">  &quot;toBeMasked&quot; : {</div>
<div class="line">    &quot;/name&quot;: &quot;NAME&quot;,</div>
<div class="line">    &quot;/surname&quot;: &quot;HASH&quot;</div>
<div class="line">  },</div>
<div class="line"> </div>
<div class="line">  &quot;inputFormat&quot;: &quot;JSON&quot;,</div>
<div class="line">  &quot;outputFormat&quot;: &quot;JSON&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><p> The path notation follows the XPath standards. If an element is an array then the user has the option to specify either a specific index or use <code>*</code> for the entire array. Assume the following JSON object</p>
<div class="fragment"><div class="line">{</div>
<div class="line">   &quot;a&quot;: {</div>
<div class="line">       &quot;b&quot; : {</div>
<div class="line">           &quot;c&quot; : [</div>
<div class="line">              &quot;value1&quot;,</div>
<div class="line">              &quot;value2&quot;,</div>
<div class="line">              &quot;value3&quot;</div>
<div class="line">           ]</div>
<div class="line">       },</div>
<div class="line">       &quot;d&quot;: &quot;foo@foo.com&quot;</div>
<div class="line">   }</div>
<div class="line">}</div>
</div><!-- fragment --><p>If we want to specify the path for element <code>d</code> then we would write <code>a/b/d</code>. If we want to get/process the second value of element <code>c</code> then we would write <code>/a/b/c/1</code> (the indexing is zero-based). If we want to process all elements of <code>c</code> then the path would be <code>/a/b/c/*</code>.</p>
<h1><a class="anchor" id="autotoc_md189"></a>
XML masking</h1>
<p>Let's assume that the input record is the following XML:</p>
<div class="fragment"><div class="line">&lt;?<span class="keyword">xml</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.0&quot;</span> <span class="keyword">encoding</span>=<span class="stringliteral">&quot;UTF-8&quot;</span>?&gt;</div>
<div class="line">&lt;<span class="keywordtype">note</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">to</span>&gt;<span class="keyword">Tove</span>&lt;/<span class="keywordtype">to</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">from</span>&gt;<span class="keyword">Jani</span>&lt;/<span class="keywordtype">from</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">email</span>&gt;<span class="keyword">lala</span>@<span class="keyword">gmail.com</span>&lt;/<span class="keywordtype">email</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">heading</span>&gt;<span class="keyword">Reminder</span>&lt;/<span class="keywordtype">heading</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">body</span>&gt;<span class="keyword">Don</span>&#39;<span class="keyword">t</span> <span class="keyword">forget</span> <span class="keyword">me</span> <span class="keyword">this</span> <span class="keyword">weekend</span>!&lt;/<span class="keywordtype">body</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">note</span>&gt;</div>
</div><!-- fragment --><p>and we want to hash the <code>email</code> record.</p>
<p>For XML, we need to pass the following data masking options:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;delimiter&quot;: &quot;,&quot;,</div>
<div class="line">  &quot;quoteChar&quot;: &quot;\&quot;&quot;,</div>
<div class="line">  &quot;hasHeader&quot;: false,</div>
<div class="line">  &quot;trimFields&quot;: false,</div>
<div class="line"> </div>
<div class="line">  &quot;toBeMasked&quot; : {</div>
<div class="line">    &quot;/note/email&quot;: &quot;HASH&quot;</div>
<div class="line">  },</div>
<div class="line"> </div>
<div class="line">  &quot;inputFormat&quot;: &quot;XML&quot;,</div>
<div class="line">  &quot;outputFormat&quot;: &quot;XML&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><p>The path notation is the following: <code>/workbook_name/cell_reference</code>. The <code>workbook_name</code> is the workbook name. The <code>cell_reference</code> can either refer to :</p>
<ul>
<li>a single cell. In that case the notation is <code>$column$row</code>, for example <code>$A$2</code>.</li>
<li>a range of cells. In that case the notation is <code>$column1$row1:$column2$row2</code>, for example <code>$A$2:$D$4</code>. The first cell reference defines the upper left cell of the region and the second one the bottom right cell.</li>
</ul>
<h1><a class="anchor" id="autotoc_md190"></a>
XLS/XLSX masking</h1>
<p>The library supports masking of individual cells in XLS/XLSX spreadsheets.</p>
<p>Let us assume that our input spreadsheet has two workbooks, <code>notes</code> and <code>notes2</code>. In the <code>notes</code> workbook we want to hash the contents of the cell A2 and in the <code>notes2</code> workbook we want to hash the contents of the cell B2.</p>
<p>For spreadsheets, we need to pass the following data masking options:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;delimiter&quot;: &quot;,&quot;,</div>
<div class="line">  &quot;quoteChar&quot;: &quot;\&quot;&quot;,</div>
<div class="line">  &quot;hasHeader&quot;: false,</div>
<div class="line">  &quot;trimFields&quot;: false,</div>
<div class="line">  </div>
<div class="line">  &quot;toBeMasked&quot; : {</div>
<div class="line">    &quot;/notes/$A$2&quot;: &quot;HASH&quot;,</div>
<div class="line">    &quot;/notes2/$B$2&quot;: &quot;HASH&quot;</div>
<div class="line">  },</div>
<div class="line"> </div>
<div class="line">  &quot;inputFormat&quot;: &quot;XLS&quot;,</div>
<div class="line">  &quot;outputFormat&quot;: &quot;XLS&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><p>If the input format is XLSX, then we need to change the values of <code>inputFormat</code> and <code>outputFormat</code> to <code>XLSX</code>.</p>
<p>The path notation is the following: <code>/workbook_name/cell_reference</code>. The <code>workbook_name</code> is the workbook name. The <code>cell_reference</code> can either refer to :</p>
<ul>
<li>a single cell. In that case the notation is <code>$column$row</code>, for example <code>$A$2</code>.</li>
<li>a range of cells. In that case the notation is <code>$column1$row1:$column2$row2</code>, for example <code>$A$2:$D$4</code>. The first cell reference defines the upper left cell of the region and the second one the bottom right cell.</li>
</ul>
<p>By default, if a cell cannot be found, it will be ignored. For example, if <code>notes2</code> is not an existing workbook, the toolkit will silently ignore the masking rule. This behavior can change by setting the <code>excel.mask.ignoreNonExistent</code> configuration option to <code>false</code> in the <code>_defaults</code> or <code>_fields</code> section of the configuration.</p>
<h1><a class="anchor" id="autotoc_md191"></a>
DICOM masking</h1>
<p>The library supports the de-identification of DICOM attributes.</p>
<p>Let's assume we want to hash the patient tag (tag value is <code>(00010,00010)</code>) of a DICOM file. We need to pass the following masking options:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;delimiter&quot;: &quot;,&quot;,</div>
<div class="line">  &quot;quoteChar&quot;: &quot;\&quot;&quot;,</div>
<div class="line">  &quot;hasHeader&quot;: false,</div>
<div class="line">  &quot;trimFields&quot;: false,</div>
<div class="line"> </div>
<div class="line">  &quot;toBeMasked&quot; : {</div>
<div class="line">    &quot;(00010,00010)&quot;: &quot;HASH&quot;</div>
<div class="line">  },</div>
<div class="line"> </div>
<div class="line">  &quot;inputFormat&quot;: &quot;DICOM&quot;,</div>
<div class="line">  &quot;outputFormat&quot;: &quot;DICOM&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><p>The path notation is <code>(group number, element number)</code> where the group and element numbers are represented by their hex values. The full list of tags can be viewed here <a href="https://www.dicomlibrary.com/dicom/dicom-tags/">DICOM tags</a></p>
<h1><a class="anchor" id="autotoc_md192"></a>
FHIR masking</h1>
<p>The library supports the de-identification of JSON-based FHIR DSTUv2. Since the input format is JSON, the same principles apply from the JSON masking section. However, FHIR can contain complex objects, for example an Address object that needs to be masked on its entirety.</p>
<p>Let's assume we have a Patient resource and we want to hash the code found in path <code>/identifier/type/coding/code</code>, delete the field in <code>/identifier/type/coding/id</code> and use the FHIR Address masking provider for the <code>/address</code> field.</p>
<p>If we want to mask the example FHIR above, then we need to pass the following masking options:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;toBeMasked&quot; : {</div>
<div class="line">        &quot;Patient.code_hashing&quot;: &quot;/identifier/type/coding/code:HASH&quot;,</div>
<div class="line">        &quot;Patient.id_delete&quot;: &quot;/identifier/type/coding/id:Delete&quot;,</div>
<div class="line">        &quot;Patient.address_mask&quot;: &quot;/address:FHIR_Address&quot;</div>
<div class="line">  },</div>
<div class="line"> </div>
<div class="line">  &quot;inputFormat&quot;: &quot;FHIR_JSON&quot;,</div>
<div class="line">  &quot;outputFormat&quot;: &quot;FHIR_JSON&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><p>We need to specify <code>FHIR</code> in the <code>jsonObjectType</code> so the library knows to treat it as a FHIR object.</p>
<p>The rules in <code>toBeMasked</code> follow the rules below:</p>
<ol type="1">
<li>The key of the rule needs to start with the resource name</li>
<li>The value of the rule consists of two parts, separated by semicolon. The first part is the JSON path of the field. The second one is the action to take. If the action is <code>Delete</code>, then the field will be deleted else the appropriate masking provider will be used.</li>
</ol>
<h1><a class="anchor" id="autotoc_md193"></a>
HL7 masking</h1>
<p>This example shows how to mask a value in the HL7 object model. Let's assume that the de-identification rule says that we need to hash the <code>/.MSH-3-1</code> element of a v2.3 HL7 object.</p>
<p>We need to pass the following masking options:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;toBeMasked&quot; : {</div>
<div class="line">    &quot;/.MSH-3-1&quot;: &quot;HASH&quot;</div>
<div class="line">  },</div>
<div class="line"> </div>
<div class="line">  &quot;inputFormat&quot;: &quot;HL7&quot;,</div>
<div class="line">  &quot;outputFormat&quot;: &quot;HL7&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><p> The notation of the element paths is based on the xref path defined here: <a href="https://hapifhir.github.io/hapi-hl7v2/base/apidocs/ca/uhn/hl7v2/util/Terser.html">Terser documentation</a></p>
<h1><a class="anchor" id="autotoc_md194"></a>
VCF masking</h1>
<p>VCF is very similar to CSV, but it lacks control of delimiters and quote characters. Headers are mandatory.</p>
<div class="fragment"><div class="line">{   </div>
<div class="line">  &quot;toBeMasked&quot; : {</div>
<div class="line">    &quot;INFO&quot;: &quot;SHIFT&quot;</div>
<div class="line">  },</div>
<div class="line"> </div>
<div class="line">  &quot;inputFormat&quot;: &quot;VCF&quot;,</div>
<div class="line">  &quot;outputFormat&quot;: &quot;VCF&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md195"></a>
List of masking providers with their options</h1>
<p>There are some options that apply to many masking providers.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">fail.mode   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Controls how to handle cases where the value cannot be parsed or masked. Possible values are 1, 2, 3 and 4. Value 1 means that the original value will be returned. Value 2 means an empty value will be returned. Value 2 throws an error. Value 4 returns a randomly generated value.   </td><td class="markdownTableBodyNone">2   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md196"></a>
ADDRESS</h3>
<p>Masks an address with a random one. Various elements of the address can be preserved like street names and road types.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">address.postalCode.nearest   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Select nearest postal code   </td><td class="markdownTableBodyNone">false    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">address.roadType.mask   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Mask road type (street, avenue, etc)   </td><td class="markdownTableBodyNone">true    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">address.postalCode.nearestK   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Number of closest postal codes to select from   </td><td class="markdownTableBodyNone">10    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">address.country.mask   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Mask country   </td><td class="markdownTableBodyNone">true    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">address.postalCode.mask   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Mask postal code   </td><td class="markdownTableBodyNone">true    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">address.number.mask   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Mask number   </td><td class="markdownTableBodyNone">true    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">address.city.mask   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Mask city   </td><td class="markdownTableBodyNone">true    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">address.mask.pseudorandom   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Mask based on pseudorandom function   </td><td class="markdownTableBodyNone">false    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">address.streetName.mask   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Mask street name   </td><td class="markdownTableBodyNone">true   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md197"></a>
PHONE</h3>
<p>Replaces a phone number with a random one. There are options to preserve the country code and area code.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">phone.countryCode.preserve   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Preserve country code   </td><td class="markdownTableBodyNone">true    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">phone.areaCode.preserve   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Preserve area code   </td><td class="markdownTableBodyNone">true   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md198"></a>
VIN</h3>
<p>Masks vehicle identifier number with the options to preserve the manufacturer and vehicle description information.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">vin.wmi.preserve   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Preserve manufacturer information (WMI)   </td><td class="markdownTableBodyNone">true    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">vin.vds.preserve   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Preserve vehicle description information (VDS)   </td><td class="markdownTableBodyNone">false   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md199"></a>
SSN_US</h3>
<p>Masks Social Security Numbers based on the US with the option to preserve their prefix</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ssnus.mask.preserveAreaNumber   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Preserve area number   </td><td class="markdownTableBodyNone">true    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ssnus.mask.preserveGroup   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Preserve group   </td><td class="markdownTableBodyNone">true   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md200"></a>
HASH</h3>
<p>Hashes the original value given an algorithm name. See <a href="https://docs.oracle.com/javase/7/docs/technotes/guides/security/StandardNames.html#MessageDigest">https://docs.oracle.com/javase/7/docs/technotes/guides/security/StandardNames.html#MessageDigest</a> for a list of available providers.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">hashing.algorithm.default   </td><td class="markdownTableBodyNone">String   </td><td class="markdownTableBodyNone">Default algorithm   </td><td class="markdownTableBodyNone">SHA-256    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">hashing.salt   </td><td class="markdownTableBodyNone">String   </td><td class="markdownTableBodyNone">Salt to be used during hashing   </td><td class="markdownTableBodyNone">""   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md201"></a>
COUNTY</h3>
<p>Masks a county by replacing it with a random one.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">county.mask.pseudorandom   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Mask based on pseudorandom function   </td><td class="markdownTableBodyNone">false   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md202"></a>
URL</h3>
<p>Masks URLs with the options to remove the query part, preserve domain levels, mask ports and username/passwords present</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">url.mask.port   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Mask port   </td><td class="markdownTableBodyNone">false    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">url.mask.removeQuery   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Remove query part   </td><td class="markdownTableBodyNone">false    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">url.preserve.domains   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Number of domains to preserve   </td><td class="markdownTableBodyNone">1    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">url.mask.usernamePassword   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Mask username and password   </td><td class="markdownTableBodyNone">true    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">url.mask.maskQuery   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Mask query part   </td><td class="markdownTableBodyNone">false   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md203"></a>
NAME</h3>
<p>Masks names. There are three options to mask names and there are checked in that order: a) generate a pseudorandom name (<code>names.mask.pseudorandom</code> controls this behavior) b) use custom masking functionality through virtual fields (<code>names.mask.virtualField</code> controls this) c) return a random name from the loaded dictionaries when the previous options are both disabled.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">names.masking.allowUnisex   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Allow unisex names to be used for masking   </td><td class="markdownTableBodyNone">false   </td></tr>
</table>
<p>| names.masking.separator | String | The separator to use when splitting a name into its individual tokens | | names.mask.pseudorandom | Boolean | Provide pseudodandom consistence | false | | names.mask.virtualField | String | Treat name tokens as a virtual field and mask them according to the masking configuration of that virtual field | null |</p>
<h3><a class="anchor" id="autotoc_md204"></a>
RACE</h3>
<p>Replace races with a random one.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">race.mask.probabilityBased   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Masks the value based on probabilities defined in the resource file   </td><td class="markdownTableBodyNone">false   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md205"></a>
GENDER</h3>
<p>Replaces a gender with a random one. This provider does not have any configuration options</p>
<h3><a class="anchor" id="autotoc_md206"></a>
RELIGION</h3>
<p>Replaces a religion with a random one.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">religion.mask.probabilityBased   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Masks the value based on probabilities defined in the resource file   </td><td class="markdownTableBodyNone">false   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md207"></a>
BINNING</h3>
<p>Bins numerical values based on a bin size and a configurable format. Default is bin size of 5 and the format is s-s, for example 2002 will be replaced by 2000-2005</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">binning.mask.format   </td><td class="markdownTableBodyNone">String   </td><td class="markdownTableBodyNone">The format of the binned value   </td><td class="markdownTableBodyNone">s-s    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">null.mask.returnNull   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">The format of the binned value   </td><td class="markdownTableBodyNone">false    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">binning.mask.binSize   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">The bin size   </td><td class="markdownTableBodyNone">5    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">binning.mask.returnBinMean   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Return the mean of the bin   </td><td class="markdownTableBodyNone">false   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md208"></a>
SHIFT</h3>
<p>Shifts a numerical value by a fixed offset.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">shift.mask.value   </td><td class="markdownTableBodyNone">Double   </td><td class="markdownTableBodyNone">The offset for shifting   </td><td class="markdownTableBodyNone">1.0   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md209"></a>
IP_ADDRESS</h3>
<p>Masks IP addresses with the option to preserve subnets.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ipaddress.subnets.preserve   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Number of prefixes to preserve   </td><td class="markdownTableBodyNone">0   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md210"></a>
EMAIL</h3>
<p>Masks e-mail addresses with the option to preserve certains level of the host domain and create a username based on random combination of names/surnames.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">email.preserve.domains   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Number of domains to preserve   </td><td class="markdownTableBodyNone">1    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">email.nameBasedUsername   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Name-based usernames   </td><td class="markdownTableBodyNone">false   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md211"></a>
IMSI</h3>
<p>Masks IMSI identifiers with the option to preserve MCC and MNC</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">imsi.mask.preserveMNC   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Preserve MNC   </td><td class="markdownTableBodyNone">true    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">imsi.mask.preserveMCC   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Preserve MCC   </td><td class="markdownTableBodyNone">true   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md212"></a>
Export</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">export.relationships.perRecord   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Per record relationship extraction   </td><td class="markdownTableBodyNone">false    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">export.sampling   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Sampling percentage   </td><td class="markdownTableBodyNone">100   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md213"></a>
OrderPreservingEncryption</h3>
<p>Masks a date using order preserving encryption. This provider is extremely slow for large scale masking</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ope.out.start   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Default OUT-range start   </td><td class="markdownTableBodyNone">0    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ope.default.key   </td><td class="markdownTableBodyNone">String   </td><td class="markdownTableBodyNone">Default encryption key   </td><td class="markdownTableBodyNone">7579687b-33f5-4f5d-9127-3d7d21d9e028    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ope.out.end   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Default OUT-range end   </td><td class="markdownTableBodyNone">2147483646    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ope.in.start   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Default IN-range start   </td><td class="markdownTableBodyNone">0    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ope.in.end   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Default IN-range end   </td><td class="markdownTableBodyNone">32767   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md214"></a>
SSN_UK</h3>
<p>Masks SSN based on the UK with the option to preserve their prefix</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ssnuk.mask.preservePrefix   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Preserve prefix   </td><td class="markdownTableBodyNone">true   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md215"></a>
REPLACE</h3>
<p>Replaces a value with either asterisks or with random characters. Digits are replaced by digits and alpha characters with random alpha characters. Other characters like dashes, commas, etc. are preserved.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">replace.mask.replaceWithAsterisks   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Replace the rest of the value with asterisks   </td><td class="markdownTableBodyNone">false    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">replace.mask.preserve   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Number of characters to preserve   </td><td class="markdownTableBodyNone">3    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">replace.mask.offset   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Starting offset for preserving   </td><td class="markdownTableBodyNone">0    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">replace.mask.replaceWithRandom   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Replace the rest of the value with random digits/characters   </td><td class="markdownTableBodyNone">false   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md216"></a>
CREDIT_CARD</h3>
<p>Masks credit card number with the option to preserve the issuer (VISA, Mastercard, etc.)</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">creditCard.issuer.preserve   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Preserve issuer   </td><td class="markdownTableBodyNone">true   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md217"></a>
IBAN</h3>
<p>Masks IBAN account numbers with the option to preserve country</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">iban.mask.preserveCountry   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Preserve country code   </td><td class="markdownTableBodyNone">true   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md218"></a>
MONETARY</h3>
<p>Replaces monetary values</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">monetary.replacing.character   </td><td class="markdownTableBodyNone">String   </td><td class="markdownTableBodyNone">Replacement character for digits   </td><td class="markdownTableBodyNone">X    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">monetary.preserve.size   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Preserve the number of digits   </td><td class="markdownTableBodyNone">true   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md219"></a>
DATETIME</h3>
<p>Masks datetime objects. There are several options like shifting dates, generalizing to month, year etc. or adding random offsets to the various datetime elements (years, months, days, hours, seconds etc.). If multiple options are set to true the following priority list is respected (examples are for 10th of January 2016):</p>
<ol type="1">
<li>Shift date by constant amount. Option <code>datetime.mask.shiftDate</code> controls this behavior</li>
<li>Generalize to week number/year (like 02/2016). See option <code>datetime.generalize.weekyear</code></li>
<li>Generalize to month/year (like 01/2016). See option <code>datetime.generalize.monthyear</code></li>
<li>Generalize to quarter year (like 01/2016). See option <code>datetime.generalize.quarteryear</code></li>
<li>Generalize to year (2016). See option <code>datetime.generalize.year</code></li>
<li>Generalize to N-year interval (like 2015-2020). See option <code>datetime.generalize.nyearinterval</code></li>
<li>Replace day with another day of the same class (weekday, weekend). See option <code>datetime.mask.replaceDaySameClass</code></li>
<li>Apply differential privacy to the dates. See option <code>datetime.mask.replaceDayWithDiffPriv</code></li>
<li>Add random offsets to year, month, day, hour, minutes, seconds as specified. See options <code>datetime.year.mask</code>, <code>datetime.month.mask</code>, <code>datetime.day.mask</code>, <code>datetime.hour.mask</code>, <code>datetime.minutes.mask</code>, <code>datetime.seconds.mask</code></li>
</ol>
<p>For specifying fixed date formats, the notation as specified in <a href="https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html">https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html</a> must be used. Important notice: for specifying years the year-of-era symbol <code>y</code> must be used. Specifying year in the week-based-year symbol <code>Y</code> will result into an error.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">datetime.mask.shiftDate   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Shift date by a constant amount   </td><td class="markdownTableBodyNone">false    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">datetime.mask.shiftSeconds   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Seconds to shift date by   </td><td class="markdownTableBodyNone">0    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">datetime.generalize.year   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Generalize to year   </td><td class="markdownTableBodyNone">false    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">datetime.generalize.nyearinterval   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Generalize to N-year interval   </td><td class="markdownTableBodyNone">false    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">datetime.generalize.weekyear   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Generalize to week/year   </td><td class="markdownTableBodyNone">false    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">datetime.generalize.monthyear   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Generalize to mm/year   </td><td class="markdownTableBodyNone">false    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">datetime.generalize.quarteryear   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Generalize to quarter/year   </td><td class="markdownTableBodyNone">false    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">datetime.generalize.nyearintervalvalue   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Value of for N-year interval generalization   </td><td class="markdownTableBodyNone">0    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">datetime.mask.replaceDaySameClass   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Replace a weekday with another random weekday and a weekend day with another random weekend day   </td><td class="markdownTableBodyNone">false    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">datetime.mask.replaceDayWithDiffPriv   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Replace date using differential privacy   </td><td class="markdownTableBodyNone">false    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">datetime.mask.replaceDayWithDiffPrivEpsilon   </td><td class="markdownTableBodyNone">Double   </td><td class="markdownTableBodyNone">Epsilon to be used when applying differential privacy   </td><td class="markdownTableBodyNone">3.0    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">datetime.year.mask   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Mask year   </td><td class="markdownTableBodyNone">true    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">datetime.year.rangeUp   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Mask year range upwards   </td><td class="markdownTableBodyNone">0    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">datetime.year.rangeDown   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Mask year range downwards   </td><td class="markdownTableBodyNone">10    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">datetime.month.mask   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Mask month   </td><td class="markdownTableBodyNone">true    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">datetime.month.rangeUp   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Mask month range upwards   </td><td class="markdownTableBodyNone">0    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">datetime.month.rangeDown   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Mask month range downwards   </td><td class="markdownTableBodyNone">12    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">datetime.day.mask   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Mask day   </td><td class="markdownTableBodyNone">true    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">datetime.day.rangeUp   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Mask day range upwards   </td><td class="markdownTableBodyNone">0    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">datetime.day.rangeDown   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Mask day range downwards   </td><td class="markdownTableBodyNone">7    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">datetime.hour.mask   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Mask hour   </td><td class="markdownTableBodyNone">true    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">datetime.hour.rangeUp   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Mask hour range upwards   </td><td class="markdownTableBodyNone">0    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">datetime.hour.rangeDown   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Mask hour range downwards   </td><td class="markdownTableBodyNone">100    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">datetime.minutes.mask   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Mask minutes   </td><td class="markdownTableBodyNone">true    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">datetime.minutes.rangeUp   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Mask minutes range upwards   </td><td class="markdownTableBodyNone">0    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">datetime.minutes.rangeDown   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Mask minutes range downwards   </td><td class="markdownTableBodyNone">100    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">datetime.seconds.mask   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Mask seconds   </td><td class="markdownTableBodyNone">true    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">datetime.seconds.rangeUp   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Mask seconds range upwards   </td><td class="markdownTableBodyNone">0    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">datetime.seconds.rangeDown   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Mask seconds range downwards   </td><td class="markdownTableBodyNone">100    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">datetime.format.fixed   </td><td class="markdownTableBodyNone">String   </td><td class="markdownTableBodyNone">Datetime format   </td><td class="markdownTableBodyNone">null    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">datetime.mask.keyBasedMaxDays   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Maximum number of days when using key-based compound masking   </td><td class="markdownTableBodyNone">100    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">datetime.mask.keyBasedMinDays   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Minimum number of days when using key-based compound masking   </td><td class="markdownTableBodyNone">0   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md220"></a>
ZIPCODE</h3>
<p>Masks a ZIP code. The system includes the ZIP code information for US. The user can specify if minimum population is required to be checked and if true the minimum population threshold. The minimum population is checked against the information stored from the latest US census (2010) and it is checked at a prefix-based level based on the number of digits specified by <code>zipcode.mask.minimumPopulationPrefixDigits</code>. By default, minimum population is set to 20000 and it is checked based on 3-digit prefixes.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">zipcode.mask.requireMinimumPopulation   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Require minimum population   </td><td class="markdownTableBodyNone">true    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">zipcode.mask.minimumPopulationPrefixDigits   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Prefix for minimum population   </td><td class="markdownTableBodyNone">3    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">zipcode.mask.countryCode   </td><td class="markdownTableBodyNone">String   </td><td class="markdownTableBodyNone">Country for the zip codes (2-digit ISO code)   </td><td class="markdownTableBodyNone">US    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">zipcode.mask.minimumPopulation   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Minimum Population   </td><td class="markdownTableBodyNone">20000    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">zipcode.mask.minimumPopulationUsePrefix   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Use prefix for minimum population   </td><td class="markdownTableBodyNone">true   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md221"></a>
HASHINT</h3>
<p>Returns an integer value by hashing the original value.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">hashint.budget.amount   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Amount of randomization to be added   </td><td class="markdownTableBodyNone">10    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">hashint.budget.use   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Limit the randomization within a budget   </td><td class="markdownTableBodyNone">false    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">hashint.algorithm.default   </td><td class="markdownTableBodyNone">String   </td><td class="markdownTableBodyNone">Default algorithm   </td><td class="markdownTableBodyNone">SHA-256    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">hashint.sign.coherent   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">The masked value has to be coherente with respect to the sign   </td><td class="markdownTableBodyNone">true   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md222"></a>
REDACT</h3>
<p>Redacts a value by replacing it with a character (default is asterisk). The length of the original value can be optionally preserved</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">redact.preserve.length   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Preserve token length   </td><td class="markdownTableBodyNone">true    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">redact.replace.character   </td><td class="markdownTableBodyNone">String   </td><td class="markdownTableBodyNone">Default replacement character   </td><td class="markdownTableBodyNone">X   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md223"></a>
NULL</h3>
<p>Replaces the original value with an empty string</p>
<h3><a class="anchor" id="autotoc_md224"></a>
IMEI</h3>
<p>Masks IMEI attributes with the option to preserve the TAC information</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">imei.mask.preserveTAC   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Preserve TAC prefix   </td><td class="markdownTableBodyNone">true   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md225"></a>
CITY</h3>
<p>Masks a city with a random one or based on one of its neighbors (geographical distance).</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">city.mask.closest   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Select one of the near cities   </td><td class="markdownTableBodyNone">false    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">city.mask.closestK   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Number of closest cities to select from   </td><td class="markdownTableBodyNone">10    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">city.mask.pseudorandom   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Mask based on pseudorandom function   </td><td class="markdownTableBodyNone">false   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md226"></a>
ICDv9</h3>
<p>Masks ICDv9 codes. Codes can also be generalized to their chapters or categories.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">icd.randomize.chapter   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Randomize by chapter   </td><td class="markdownTableBodyNone">false    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">icd.randomize.category   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Randomize by 3-digit code   </td><td class="markdownTableBodyNone">true   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md227"></a>
ICDv10</h3>
<p>Masks ICDv10 codes. Codes can also be generalized to their chapters or categories.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">icd.randomize.chapter   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Randomize by chapter   </td><td class="markdownTableBodyNone">false    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">icd.randomize.category   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Randomize by 3-digit code   </td><td class="markdownTableBodyNone">true   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md228"></a>
MAC_ADDRESS</h3>
<p>Masks MAC addresses with the option to preserve the vendor information</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">mac.masking.preserveVendor   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Preserve vendor information   </td><td class="markdownTableBodyNone">true   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md229"></a>
Persistence</h3>
<p>These options control the persistence when masking value. If <code>persistence.export</code> is set to true then an original value will always be masked to the same value. <code>persistence.type</code> defines the medium to use for storing the mappings. File-based, memory-based and database backends are supported.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">persistence.export   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Persistence per export   </td><td class="markdownTableBodyNone">false    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">persistence.type   </td><td class="markdownTableBodyNone">String   </td><td class="markdownTableBodyNone">The backend system to use for storing the mappings. Possible values are <code>file</code>, <code>memory</code> and <code>database</code>   </td><td class="markdownTableBodyNone">memory    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">persistence.namespace   </td><td class="markdownTableBodyNone">String   </td><td class="markdownTableBodyNone">Persistence global namespace   </td><td class="markdownTableBodyNone">null    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">persistence.schema   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Persistence per schema   </td><td class="markdownTableBodyNone">false   </td></tr>
</table>
<p>| persistence.file | String | Directory for the file-based backend | | persistence.database.username | String | Username for database connection | "" | | persistence.database.password | String | Password for database connection | "" | | persistence.database.driverName | String | Driver name for database connection | "" | | persistence.database.connection | String | Connection string for database connection | "" | | persistence.database.cacheLimit | Integer | Cache limit in bytes for database-backed persistence | "" |</p>
<h3><a class="anchor" id="autotoc_md230"></a>
ATC</h3>
<p>Masks an ATC code with the option to preserve certain levels.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">atc.mask.levelsToKeep   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Number of levels to keep   </td><td class="markdownTableBodyNone">4   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md231"></a>
OCCUPATION</h3>
<p>Replaces an occupation with a random one or generalizes it to its category. Categories are based on the 2010 SOC classification.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">occupation.mask.generalize   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Generalize to occupation category   </td><td class="markdownTableBodyNone">false   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md232"></a>
CONTINENT</h3>
<p>Masks a continent by replacing it with a random one or by a closest one (distance based on an approximate centroid of the continent's bounding box)</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">continent.mask.closest   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Select one of the nearest continents   </td><td class="markdownTableBodyNone">false    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">continent.mask.closestK   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Number of neighbors for nearest continents   </td><td class="markdownTableBodyNone">5   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md233"></a>
HOSPITAL</h3>
<p>Replaces a hospital name with another one</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">hospital.mask.preserveCountry   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Select a hospital from the same country   </td><td class="markdownTableBodyNone">true   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md234"></a>
Defaults</h3>
<p>The <code>default.masking.provider</code> option controls what masking provider to invoke in case none is specified or a provider is not found</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">default.masking.provider   </td><td class="markdownTableBodyNone">String   </td><td class="markdownTableBodyNone">Default masking provider   </td><td class="markdownTableBodyNone">RANDOM   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md235"></a>
NUMBERVARIANCE</h3>
<p>Masks a numeric value by adding a +/- offset based on given percentages. Limits cannot be negative numbers. If precision digits is -1, the final result will be returned with its original precision, else the digit part will be trimmed accordingly.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">numvariance.mask.limitUp   </td><td class="markdownTableBodyNone">Double   </td><td class="markdownTableBodyNone">Up percentage limit   </td><td class="markdownTableBodyNone">10.0    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">numvariance.mask.limitDown   </td><td class="markdownTableBodyNone">Double   </td><td class="markdownTableBodyNone">Down percentage limit   </td><td class="markdownTableBodyNone">10.0    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">numvariance.mask.precisionDigits   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Number of precision digits   </td><td class="markdownTableBodyNone">-1   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md236"></a>
COUNTRY</h3>
<p>Replaces a country with another random one or by a nearest country</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">country.mask.closestK   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Number of nearest countries to select from   </td><td class="markdownTableBodyNone">10    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">country.mask.closest   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Select one of the near countries   </td><td class="markdownTableBodyNone">false    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">country.mask.pseudorandom   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Mask based on pseudorandom function   </td><td class="markdownTableBodyNone">false   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md237"></a>
LATITUDE_LONGITUDE</h3>
<p>Masks latitude/longitude pairs. Recognizes several formats</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">latlon.mask.fixedRadiusRandomDirection   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Random a point with a fixed radium but random direction   </td><td class="markdownTableBodyNone">false    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">latlon.mask.donutMasking   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Randomize a point in a donut-shaped   </td><td class="markdownTableBodyNone">false    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">latlon.mask.randomWithinCircle   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Randomize a point in a circle   </td><td class="markdownTableBodyNone">true    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">latlon.offset.maximumRadius   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Maximum offset radius (in meters)   </td><td class="markdownTableBodyNone">100    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">latlon.offset.minimumRadius   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Minimum Offset radius (in meters)   </td><td class="markdownTableBodyNone">50   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md238"></a>
SWIFT</h3>
<p>Masks SWIFT codes using in the banking domain</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">swift.mask.preserveCountry   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Preserve Country   </td><td class="markdownTableBodyNone">false   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md239"></a>
DICTIONARY_BASED</h3>
<p>Masks based on a random value selected from a given dictionary. The contents of the file should be one dictionary term per line</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">dictionaryBased.mask.filename   </td><td class="markdownTableBodyNone">String   </td><td class="markdownTableBodyNone">Filename of the dictionary to load   </td><td class="markdownTableBodyNone">""   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md240"></a>
HADOOP_DICTIONARY_BASED</h3>
<p>Masks based on a random value selected from a given dictionary. The contents of the file should be one dictionary term per line. The file is retrieved from HDFS. Warning: This masking provider is available only when running the Spark version of the toolkit.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">hadoop.dictionary.path   </td><td class="markdownTableBodyNone">String   </td><td class="markdownTableBodyNone">Filename of the dictionary to load   </td><td class="markdownTableBodyNone">""   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md241"></a>
RATIO_BASED</h3>
<p>Multiplies the value by the given ration and returns the result.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ratiobased.mask.ratio   </td><td class="markdownTableBodyNone">Double   </td><td class="markdownTableBodyNone">Ratio to use   </td><td class="markdownTableBodyNone">1.0    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ratiobased.mask.precisionDigits   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">Precision for the decimal part   </td><td class="markdownTableBodyNone">-1   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md242"></a>
DIFFERENTIAL_PRIVACY</h3>
<p>Applies differential privacy to a given attribute</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">differentialPrivacy.mechanism   </td><td class="markdownTableBodyNone">String   </td><td class="markdownTableBodyNone">Mechanism to use. Options are LAPLACE_NATIVE, LAPLACE_BOUNDED, LAPLACE_TRUNCATED, CATEGORICAL and BINARY   </td><td class="markdownTableBodyNone">LAPLACE_NATIVE    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">differentialPrivacy.parameter.epsilon   </td><td class="markdownTableBodyNone">Double   </td><td class="markdownTableBodyNone">Epsilon to use   </td><td class="markdownTableBodyNone">8.0   </td></tr>
</table>
<p>In case that LAPLACE_NATIVE, LAPLACE_BOUNDED or LAPLACE_TRUNCATED was selected as a mechanism, then the following options are required:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">differentialPrivacy.range.min   </td><td class="markdownTableBodyNone">Double   </td><td class="markdownTableBodyNone">Minimum value of the domain   </td><td class="markdownTableBodyNone">0    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">differentialPrivacy.range.max   </td><td class="markdownTableBodyNone">Double   </td><td class="markdownTableBodyNone">Maximum value of the domain   </td><td class="markdownTableBodyNone">0   </td></tr>
</table>
<p>In case that the BINARY mechanism is applied, the following options are required:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">differentialPrivacy.binary.value1   </td><td class="markdownTableBodyNone">String   </td><td class="markdownTableBodyNone">The first binary value   </td><td class="markdownTableBodyNone">TRUE    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">differentialPrivacy.binary.value2   </td><td class="markdownTableBodyNone">String   </td><td class="markdownTableBodyNone">The second binary value   </td><td class="markdownTableBodyNone">FALSE   </td></tr>
</table>
<p>Finally, for the case of the CATEGORICAL mechanism:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">differentialPrivacy.categorical.hierarchyName   </td><td class="markdownTableBodyNone">String   </td><td class="markdownTableBodyNone">The name of the hierarchy to be used   </td><td class="markdownTableBodyNone">""    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">differentialPrivacy.categorical.hierarchyMap   </td><td class="markdownTableBodyNone">JsonNode   </td><td class="markdownTableBodyNone">A JSON object with the hierarchies specifications. See Section "Specifying hierarchies" below for more details/   </td><td class="markdownTableBodyNone">null   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md243"></a>
GENERALIZATION</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">generalization.masking.hierarchyName   </td><td class="markdownTableBodyNone">String   </td><td class="markdownTableBodyNone">The name of the hierarchy to be used   </td><td class="markdownTableBodyNone">""    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">generalization.masking.hierarchyMap   </td><td class="markdownTableBodyNone">JsonNode   </td><td class="markdownTableBodyNone">A JSON object with the hierarchies specifications. See Section "Specifying hierarchies" below for more details   </td><td class="markdownTableBodyNone">null    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">generalization.masking.hierarchyLevel   </td><td class="markdownTableBodyNone">Integer   </td><td class="markdownTableBodyNone">The generalization level to apply   </td><td class="markdownTableBodyNone">-1    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">generalization.masking.randomizeOnFail   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">If the value is not found in the hierarchy, then return a random result   </td><td class="markdownTableBodyNone">true   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md244"></a>
FREE_TEXT</h3>
<p>The default behavior of the natural language text de-identification provider is to mask the entities. It also supports the options to return only annotated text, redact or tag the entities (by default all three options are disabled). Please see separate documentation for free text configuration specification.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">freetext.mask.complexConfigurationFilename   </td><td class="markdownTableBodyNone">String   </td><td class="markdownTableBodyNone">The path to the configuration file for initializing the NLP pipeline. See separate documentation on how to write this configuration file   </td><td class="markdownTableBodyNone">/complexWithIdentifiers.json    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">freetext.mask.complexConfigurationResourceType   </td><td class="markdownTableBodyNone">String   </td><td class="markdownTableBodyNone">The type of the configuration resource. This can be either <code>INTERNAL_RESOURCE</code> when reading from a file loaded in the classpath or <code>EXTERNAL_FILENAME</code> when reading from a file in the filesystem   </td><td class="markdownTableBodyNone"><code>INTERNAL_RESOURCE</code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">freetext.mask.maskingConfigurationFilename   </td><td class="markdownTableBodyNone">String   </td><td class="markdownTableBodyNone">The path to the configuration file for masking   </td><td class="markdownTableBodyNone">/c.json    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">freetext.mask.maskingConfigurationResourceType   </td><td class="markdownTableBodyNone">String   </td><td class="markdownTableBodyNone">The type of the masking configuration resource. This can be either <code>INTERNAL_RESOURCE</code> when reading from a file loaded in the classpath or <code>EXTERNAL_FILENAME</code> when reading from a file in the filesystem   </td><td class="markdownTableBodyNone"><code>INTERNAL_RESOURCE</code>   </td></tr>
</table>
<p>The free text masking provider supports a relationship type <code>GREP_AND_MASK</code> that gets tokens from a field, looks them up in the free text field and then masks them. As an example, let's assume we want to mask the OBX element of an HL7 message (OBX contains comments in free text). We want to get the patient names from elements <code>/.PID-5-1</code> and then locate them and mask them in the <code>/.OBX-5-1</code> element. The following options will be used for this compound masking:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">generic.lookupTokensSeparator   </td><td class="markdownTableBodyNone">String   </td><td class="markdownTableBodyNone">Separator string for splitting into tokens   </td><td class="markdownTableBodyNone">"^"    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">generic.lookupTokensIgnoreCase   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Ignore case when searching for tokens   </td><td class="markdownTableBodyNone">false    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">generic.lookupTokensFindAnywhere   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">If set to true tokens are search everywhere in the text, else they are searched as words   </td><td class="markdownTableBodyNone">false    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">generic.lookupTokensType   </td><td class="markdownTableBodyNone">String   </td><td class="markdownTableBodyNone">Type to use for the matching tokens   </td><td class="markdownTableBodyNone">""   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md245"></a>
TAG</h3>
<p>This provider does not take any options. It returns the field name appended with a unique id based on the value.</p>
<h3><a class="anchor" id="autotoc_md246"></a>
Excel masking provider</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">excel.mask.ignoreNonExistent   </td><td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Control the behavior when a cell does not exist   </td><td class="markdownTableBodyNone">true   </td></tr>
</table>
<h4><a class="anchor" id="autotoc_md247"></a>
Specifying hierarchies</h4>
<p>!INCLUDE "../common/anonymization-hierarchy-conf.md"</p>
<h1><a class="anchor" id="autotoc_md248"></a>
Errors</h1>
<p>A runtime exception will be thrown at the following cases:</p>
<ul>
<li>misconfiguration in the masking configuration file (wrong types or values)</li>
<li>the input file cannot be found</li>
<li>the user has no permission to read the input file or write to the output directory </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>

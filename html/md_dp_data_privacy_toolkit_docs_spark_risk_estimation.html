<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PolyBM: Invoking the Risk Estimation Spark executor</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="LGS.jpg"/></td>
  <td id="projectalign">
   <div id="projectname">PolyBM<span id="projectnumber">&#160;0.1</span>
   </div>
   <div id="projectbrief">The PolyBM Data Analysis Tool is an AI tool that helps users profile, format, and anonymize data from CSV, JSON, and XML files. The tool offers various functionalities such as creating charts, generating data quality reports, and anonymizing sensitive data.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Invoking the Risk Estimation Spark executor </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The Spark JAR was built for Java 11 and Spark 3.2.3. The toolkit is packaged together with its dependencies so there is no requirement for additional configuration of classpaths or internet connection to artifact repositories.</p>
<p>The executor requires the input path as well as the configuration file. It can be invoked as:</p>
<div class="fragment"><div class="line">spark-submit \</div>
<div class="line">    --class com.ibm.research.drl.dpt.spark.risk.RiskEstimation \</div>
<div class="line">    dpt-spark-$VERSION-jar-with-dependencies.jar \</div>
<div class="line">    -i input_path \</div>
<div class="line">    -c risk_estiamtion_configuration.json \</div>
<div class="line">    -o report.json</div>
</div><!-- fragment --><p>where <code>risk_estimation_configuration.json</code> is the configuration file, <code>input_path</code> is the input file and <code>report.json</code> is the output filename.</p>
<p>The full list of parameters to the executor are:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Parameter   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">-i,&ndash;input &lt;arg&gt;   </td><td class="markdownTableBodyNone">Path to the file or directory to be processed (required)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">-o,&ndash;output &lt;arg&gt;   </td><td class="markdownTableBodyNone">Output directory (required)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">-c,&ndash;conf &lt;arg&gt;   </td><td class="markdownTableBodyNone">Path to the configuration file (required)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">&ndash;remoteConf   </td><td class="markdownTableBodyNone">If set, then the configuration file will be read from HDFS (optional)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">&ndash;remoteOutput   </td><td class="markdownTableBodyNone">If set, then the report file will be saved to HDFS (optional)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">-basePath &lt;arg&gt;   </td><td class="markdownTableBodyNone">Specify the base path of the input (optional)   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md251"></a>
Writing the configuration file</h1>
<p>The configuration file has the following structure:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;metricType&quot;: &quot;BINOMIAL&quot;,</div>
<div class="line">  &quot;selectionColumn&quot;: [</div>
<div class="line">    &quot;c1&quot;,</div>
<div class="line">    &quot;c2&quot;</div>
<div class="line">  ],</div>
<div class="line">  &quot;options&quot;: {</div>
<div class="line">    &quot;POPULATION&quot;: 10000000,</div>
<div class="line">    &quot;USE_GLOBAL_P&quot;: false</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p> where:</p><ul>
<li><code>metricType</code> specifies the risk metric to be computed, currently the accepted values are:<ul>
<li><code>BINOMIAL</code></li>
<li><code>FK</code></li>
</ul>
</li>
<li><code>selectionColumns</code> specifies the column(s) involved in the risk estimation.</li>
<li><code>options</code> is a dictionary of metric dependent parameters.</li>
</ul>
<h1><a class="anchor" id="autotoc_md252"></a>
Output structure</h1>
<p>The output consists of a JSON object as the following:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;metricType&quot;: &quot;BINOMIAL&quot;,</div>
<div class="line">  &quot;risk&quot;: 0.01</div>
<div class="line">}</div>
</div><!-- fragment --><p> where:</p><ul>
<li><code>metricType</code> reflects the metric type specified in the configuration file</li>
<li><code>risk</code> is the privacy risk as captured by the risk metric. In general, this value is the maximum risk detected in the dataset.</li>
</ul>
<h1><a class="anchor" id="autotoc_md253"></a>
Errors</h1>
<p>A runtime exception will be thrown at the following cases:</p>
<ul>
<li>misconfiguration in the configuration file (wrong types or values)</li>
<li>the input file cannot be found</li>
<li>the user has no permission to read the input file or write to the output directory</li>
<li>no selection columns have been specified </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
